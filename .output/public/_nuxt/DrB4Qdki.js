import{m as v,x as p,r as S,E as y}from"./CraAwoDk.js";import{u as d}from"./CMICIuFv.js";const B=v("club",()=>{async function t(n){return await d(`/club/all?${n.toString()}`)}async function e(n){return await d(`/club/all/filter?${n.toString()}`)}async function o(n){return await d(`/club/${n.id}/${n.uid}`)}async function r(n){return await d("/club/create",{method:"POST",body:n})}async function f(n){return await d("/club/update",{method:"put",body:n})}return{all:t,create:r,findDetail:o,allByFilter:e,update:f}}),P=v("ClubViewModel",()=>{const t=p([]),e=p(),o=p(!1),r=B();let f={name:"",country_id:"",status:""};const n=S({...f}),b=S({...f,id:""});async function E(l=""){var c,s;const u=await r.allByFilter(l);return t.value=[...(s=(c=u.data)==null?void 0:c.data)==null?void 0:s.data.map((a,h)=>{var C,w,g;return{id:a==null?void 0:a.id,uid:a==null?void 0:a.club_uid,name:a==null?void 0:a.name,language:(C=a==null?void 0:a.country)==null?void 0:C.langage,desc:a==null?void 0:a.description,country:(w=a==null?void 0:a.country)==null?void 0:w.name,country_id:(g=a==null?void 0:a.country)==null?void 0:g.id,status:a==null?void 0:a.status}})],u}async function x(l=""){var c,s;const u=await r.all(l);return[...(s=(c=u.data)==null?void 0:c.data)==null?void 0:s.map((a,h)=>({id:a==null?void 0:a.id,uid:a==null?void 0:a.club_uid,name:a==null?void 0:a.name,language:a==null?void 0:a.language,desc:a==null?void 0:a.description,country:a==null?void 0:a.country}))],u}async function F(l){var c;const u=await r.findDetail(l);return e.value=(c=u==null?void 0:u.data)==null?void 0:c.data,u}async function _(){o.value=!0;let l={...n};await r.create(l),y("Opération éffectuée",{autoClose:1e3,type:y.TYPE.SUCCESS}),o.value=!1}async function $(){o.value=!0;let l={...b};console.log("updateClub",b),await r.update(l),y("Opération éffectuée",{autoClose:1e3,type:y.TYPE.SUCCESS}),o.value=!1}return{all:x,club:e,clubs:t,newClub:n,create:_,isLoading:o,findDetail:F,allByFilter:E,updateClub:b,update:$}});export{P as u};
