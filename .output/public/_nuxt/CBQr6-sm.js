import{_ as C}from"./DTMxtOxE.js";import{_ as V}from"./CDDAV53k.js";import{g as B,z as M,m as U,E as D,c as n,b as v,w as E,o as c,a as e,t as u,v as L,A as N,p,F as w,y as g}from"./DmKFrW2Y.js";import{u as T}from"./iU_8tUU2.js";import{u as $}from"./CzwX7gpr.js";import"./C9Tjr1y5.js";const j={class:"w-full"},F={class:"p-2"},P={class:"text-sm font-semibold uppercase text-neutral-500"},R={class:"w-auto gap-2 flex items-center justify-between my-4"},S={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},q={class:"w-auto px-1 block border-r border-gray-300"},z={class:"w-auto flex items-center justify-center h-full"},A=["value","selected"],G={class:"w-full grid grid-cols-1 md:grid-cols-4 gap-4 p-2 my-3"},H={class:"text-xs text-gray-500 font-medium"},I={class:"text-lg font-extrabold"},J={class:"w-full p-2"},tt=B({__name:"index",setup(K){const s=$();T();const a=M({search:"",status:""}),k=[{label:"rapport.colunm.td1",key:"name"},{label:"rapport.colunm.td2",key:"total_facture"},{label:"rapport.colunm.td3",key:"total_montant"},{label:"rapport.colunm.td4",key:"total_paye"},{label:"rapport.colunm.td5",key:"total_impaye"},{label:"rapport.colunm.td6",key:"total_en_cours"}],m=async(o={})=>{var d,_;const l=new URLSearchParams({search:a.search||"",status:a.status||""});await s.rapport(l);const r=(_=(d=s==null?void 0:s.rapports)==null?void 0:d.exercice)==null?void 0:_.find(i=>i.status==="en_cours");console.log("enCours",r),r&&!a.status&&(a.status=r.value)};return U(a,o=>{let l=setTimeout(async()=>{await m(o),clearTimeout(l)},400)},{deep:!0}),D(async()=>{m()}),(o,l)=>{const r=C,d=V;return c(),n("div",null,[v(d,null,{default:E(({userConnected:_})=>{var i,h,y,b,x;return[e("div",j,[e("div",F,[e("h5",P,u(o.$t("rapport.title")),1)]),e("div",R,[e("div",S,[e("div",q,u(o.$t("rapport.title_filter")),1),e("div",z,[L(e("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>p(a).status=t),class:"w-full h-full bg-transparent border-none outline-none"},[(c(!0),n(w,null,g((h=(i=p(s))==null?void 0:i.rapports)==null?void 0:h.exercice,(t,f)=>(c(),n("option",{key:f,value:t==null?void 0:t.value,selected:(t==null?void 0:t.status)=="en_cours"},u(t==null?void 0:t.label),9,A))),128))],512),[[N,p(a).status]])])])]),e("div",G,[(c(!0),n(w,null,g((b=(y=p(s))==null?void 0:y.rapports)==null?void 0:b.analityc,(t,f)=>(c(),n("div",{key:f,class:"box"},[e("span",H,u(o.$t(t==null?void 0:t.label)),1),e("h2",I,u(t==null?void 0:t.value),1)]))),128))]),e("div",J,[v(r,{columns:k,data:(x=p(s))==null?void 0:x.rapports.club},null,8,["data"])])])]}),_:1})])}}});export{tt as default};
