import{_ as D}from"./CSKEXm3O.js";import{_ as E}from"./C2luDob6.js";import{g as U,c as v,o as _,b as u,w as C,a as t,z as k,r as g,k as V,q as L,p as r,A as I,m as R,v as A,x as z,B as G,F as H,y as J,t as K}from"./BNN5M85B.js";import{_ as F}from"./CvgeUCNd.js";import{_ as B}from"./SWnfWivm.js";import{_ as M}from"./CtjfCCIS.js";import{_ as N}from"./B8aJ7cWW.js";import{u as O}from"./CCGXEvLI.js";import{_ as Q}from"./C09T3ji7.js";import{u as W}from"./BNVWGK1i.js";const X={class:"flex items-center gap-1 text-[12px]"},Y=["onClick"],Z=U({__name:"TableComponent",props:{data:{},setUpdate:{type:Function},loading:{type:Boolean}},setup(f){const l=f,n=[{label:"#",key:"id"},{label:"nom club",key:"name"},{label:"pays",key:"country"},{label:"langue",key:"language"},{label:"Action",key:"action"}];return(i,p)=>{const o=D,e=E;return _(),v("div",null,[u(e,{loading:i.loading,columns:n,data:l.data},{action:C(({item:d})=>[t("div",X,[u(o,{to:`/account/clubs/detail?id=${d==null?void 0:d.id}&uid=${d==null?void 0:d.uid}`,class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full px-2 py-1 border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},{default:C(()=>p[0]||(p[0]=[t("i",{class:"uil uil-eye"},null,-1)])),_:2},1032,["to"]),t("button",{type:"button",onClick:m=>l.setUpdate(d),class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},p[1]||(p[1]=[t("i",{class:"uil uil-pen"},null,-1)]),8,Y)])]),_:1},8,["loading","data"])])}}}),ee=k("setting",()=>{async function f(){return await O("setting/countrie/all")}return{allCoutry:f}}),j=k("SettingViewModel",()=>{g(!1);const f=ee();async function l(){var i;const n=await f.allCoutry();return(i=n==null?void 0:n.data)==null?void 0:i.data}return{allCoutry:l}}),te={class:"grid mt-4 w-full max-w-lg gap-4"},oe={class:"mb-4"},le={class:""},se={class:"w-full mt-4"},ae=U({__name:"AddClubComponent",props:{isActive:{type:Boolean},setActive:{type:Function},newClub:{},createClub:{type:Function},isLoading:{type:Boolean}},setup(f){const l=j(),n=g([]),i=async()=>{let o=await l.allCoutry();n.value=[...o.map(e=>({label:e==null?void 0:e.name,value:e==null?void 0:e.id}))]},p=[{label:"actif",status:"actif"},{label:"inactif",status:"inactif"}];return V(()=>{i()}),(o,e)=>{const d=F,m=B,y=M,w=N;return _(),v("div",null,[u(w,{isActive:o.isActive,onClose:()=>o.setActive(!1)},{default:C(()=>[t("div",te,[e[4]||(e[4]=t("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[t("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Nouveau club ")],-1)),t("form",{class:"",onSubmit:e[3]||(e[3]=L(a=>o.createClub(),["prevent"]))},[t("div",oe,[u(d,{required:"",modelValue:o.newClub.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.newClub.name=a),label:"Nom club",placeholder:"Nom du club",name:"title"},null,8,["modelValue"])]),t("div",le,[u(m,{required:"",options:r(n),modelValue:o.newClub.country_id,"onUpdate:modelValue":e[1]||(e[1]=a=>o.newClub.country_id=a),placeholder:"Pays",label:"Pays"},null,8,["options","modelValue"]),u(m,{required:"",options:p,modelValue:o.newClub.status,"onUpdate:modelValue":e[2]||(e[2]=a=>o.newClub.status=a),placeholder:"Statut",label:"Statut"},null,8,["modelValue"])]),t("div",se,[u(y,{label:"CrÃ©er",isLoading:o.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),ne={class:"grid mt-4 w-full max-w-lg gap-4"},ie={class:"mb-4"},ue={class:""},re={class:"w-full mt-4"},de=U({__name:"UpdateClubComponent",props:{isActive:{type:Boolean},setActive:{type:Function},update:{},updateClub:{type:Function},isLoading:{type:Boolean}},setup(f){const l=j(),n=g([]),i=async()=>{let o=await l.allCoutry();n.value=[...o.map(e=>({label:e==null?void 0:e.name,value:e==null?void 0:e.id}))]},p=[{label:"actif",status:"actif"},{label:"inactif",status:"inactif"}];return V(()=>{i()}),(o,e)=>{const d=F,m=B,y=M,w=N;return _(),v("div",null,[u(w,{isActive:o.isActive,onClose:()=>o.setActive(!1)},{default:C(()=>[t("div",ne,[e[4]||(e[4]=t("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[t("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Modifier club ")],-1)),t("form",{class:"",onSubmit:e[3]||(e[3]=L(a=>o.updateClub(),["prevent"]))},[t("div",ie,[u(d,{required:"",modelValue:o.update.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.update.name=a),label:"Nom club",placeholder:"Nom du club",name:"title"},null,8,["modelValue"])]),t("div",ue,[u(m,{required:"",options:r(n),modelValue:o.update.country_id,"onUpdate:modelValue":e[1]||(e[1]=a=>o.update.country_id=a),placeholder:"Pays",label:"Pays"},null,8,["options","modelValue"]),u(m,{required:"",options:p,modelValue:o.update.status,"onUpdate:modelValue":e[2]||(e[2]=a=>o.update.status=a),placeholder:"Statut",label:"Statut"},null,8,["modelValue"])]),t("div",re,[u(y,{label:"Enregistrer",isLoading:o.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),ce={class:"w-full"},pe={class:"w-full p-2"},be={class:"w-full"},fe={class:"w-full flex items-center justify-between mb-10"},me={class:"w-auto"},ve={class:"w-full flex items-center justify-between mb-3"},_e={class:"w-auto"},ge={class:"w-auto gap-2 flex items-center justify-between"},ye={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},we={class:"w-auto flex items-center justify-center h-full"},Ce=["value"],xe={class:"w-full p-2"},Me=U({__name:"index",setup(f){const l=W(),n=g(!1),i=I({search:"",status:"",limit:"1"}),p=g(!1),o=g(!1),e=s=>{p.value=s},d=s=>{o.value=s},m=s=>{l.updateClub.country_id=s==null?void 0:s.country_id,l.updateClub.status=s==null?void 0:s.status,l.updateClub.id=s==null?void 0:s.id,l.updateClub.name=s==null?void 0:s.name,console.log(s),d(!0)},y=async()=>{await l.create(),await a()},w=async()=>{await l.update(),await a()},a=async(s={})=>{var x,h;((h=(x=l==null?void 0:l.clubs)==null?void 0:x.data)==null?void 0:h.length)==0&&(n.value=!0);const c=new URLSearchParams({search:i.search||"",page:i.limit||"",status:s.status||""});await l.allByFilter(c),n.value=!1};return R(i,s=>{let c=setTimeout(async()=>{n.value=!0,l.clubs.data=[],await a(s),clearTimeout(c)},400)},{deep:!0}),V(()=>{a()}),(s,c)=>{const x=Z,h=ae,q=de,P=Q;return _(),v("div",null,[u(P,null,{default:C(()=>{var $,S;return[t("div",ce,[t("div",pe,[t("div",be,[t("div",fe,[c[3]||(c[3]=t("h5",{class:"text-sm font-semibold uppercase text-neutral-500"},"Clubs",-1)),t("div",me,[t("button",{onClick:c[0]||(c[0]=b=>e(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none text-xs disabled:opacity-50 bg-[#1F2923] text-slate-50 shadow hover:bg-[#2f3a34] px-4 py-3 self-start"}," Ajouter un club ")])]),t("div",ve,[t("div",_e,[A(t("input",{"onUpdate:modelValue":c[1]||(c[1]=b=>r(i).search=b),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:"Recherche...",autocomplete:"off"},null,512),[[z,r(i).search]])]),t("div",ge,[t("div",ye,[c[4]||(c[4]=t("div",{class:"w-auto px-1 block border-r border-gray-300"},"Par page",-1)),t("div",we,[A(t("select",{"onUpdate:modelValue":c[2]||(c[2]=b=>r(i).limit=b),class:"w-full h-full bg-transparent border-none outline-none"},[(_(!0),v(H,null,J(($=r(l))==null?void 0:$.clubs.page,(b,T)=>(_(),v("option",{key:T,value:b==null?void 0:b.label},K(b==null?void 0:b.label),9,Ce))),128))],512),[[G,r(i).limit]])])])])])]),t("div",xe,[u(x,{loading:r(n),data:(S=r(l))==null?void 0:S.clubs.data,setUpdate:m},null,8,["loading","data"])]),u(h,{"new-club":r(l).newClub,"create-club":y,"set-active":e,"is-active":r(p),"is-loading":r(l).isLoading},null,8,["new-club","is-active","is-loading"]),u(q,{update:r(l).updateClub,"update-club":w,"set-active":d,"is-active":r(o),"is-loading":r(l).isLoading},null,8,["update","is-active","is-loading"])])])]}),_:1})])}}});export{Me as default};
