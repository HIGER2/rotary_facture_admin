import{_ as S,a as B,b as V}from"./C5Qi8Cvj.js";import{_ as F}from"./CDDAV53k.js";import{g as M,z as N,r as d,m as T,k as D,c as u,b as i,w as P,o as p,a as t,t as c,v as q,A as z,p as a,F as E,y as R}from"./DmKFrW2Y.js";import{u as G}from"./CzwX7gpr.js";import"./DTMxtOxE.js";import"./Dn_7rsv-.js";import"./CFqXm1HB.js";import"./FuUbJ_Gu.js";import"./Dy310um6.js";import"./C9Tjr1y5.js";const H={class:"w-full"},I={class:"w-full p-2"},J={class:"w-full"},K={class:"w-full flex items-center justify-between mb-10"},O={class:"text-sm font-semibold uppercase text-neutral-500"},Q={class:"w-auto"},W={class:"w-full flex items-center justify-between mb-3"},X={class:"w-auto gap-2 flex items-center justify-between"},Y={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},Z={class:"w-auto px-1 block border-r border-gray-300"},ee={class:"w-auto flex items-center justify-center h-full"},se=["value"],te={class:"w-full p-2"},fe=M({__name:"index",setup(ae){const s=G(),l=N({search:"",status:"",limit:"1"}),_=d(!1),f=d(!1),v=d(!1),w=e=>{_.value=e},h=e=>{f.value=e},y=e=>{s.updateUser.last_name=e==null?void 0:e.last_name,s.updateUser.email=e==null?void 0:e.email,s.updateUser.id=e==null?void 0:e.id,s.updateUser.name=e==null?void 0:e.name,s.updateUser.phone=e==null?void 0:e.phone,s.updateUser.role=e==null?void 0:e.role,h(!0)},x=async()=>{await s.create(),await r()},$=async()=>{await s.update(),await r()},r=async(e={})=>{const o=new URLSearchParams({search:l.search||"",page:l.limit||"",status:e.status||""});await s.allByFilter(o),v.value=!1};return T(l,e=>{let o=setTimeout(async()=>{r(e),clearTimeout(o)},400)},{deep:!0}),D(()=>{r()}),(e,o)=>{const k=S,A=B,C=V,L=F;return p(),u("div",null,[i(L,null,{default:P(()=>{var b,m,g,U;return[t("div",H,[t("div",I,[t("div",J,[t("div",K,[t("h5",O,c(e.$t("user.title")),1),t("div",Q,[t("button",{onClick:o[0]||(o[0]=n=>w(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors text-xs disabled:opacity-50 bg-primary text-slate-50 shadow px-4 py-3 self-start"},c(e.$t("user.button")),1)])]),t("div",W,[o[2]||(o[2]=t("div",{class:"w-auto"},null,-1)),t("div",X,[t("div",Y,[t("div",Z,c(e.$t("filter_page")),1),t("div",ee,[q(t("select",{"onUpdate:modelValue":o[1]||(o[1]=n=>a(l).limit=n),class:"w-full h-full bg-transparent border-none outline-none"},[(p(!0),u(E,null,R((m=(b=a(s))==null?void 0:b.users)==null?void 0:m.page,(n,j)=>(p(),u("option",{key:j,value:n==null?void 0:n.label},c(n==null?void 0:n.label),9,se))),128))],512),[[z,a(l).limit]])])])])])]),t("div",te,[i(k,{loading:a(v),data:(U=(g=a(s))==null?void 0:g.users)==null?void 0:U.data,setUpdate:y},null,8,["loading","data"])]),i(A,{"new-user":a(s).newUser,"create-user":x,"set-active":w,"is-active":a(_),"is-loading":a(s).isLoading},null,8,["new-user","is-active","is-loading"]),i(C,{update:a(s).updateUser,"update-user":$,"set-active":h,"is-active":a(f),"is-loading":a(s).isLoading},null,8,["update","is-active","is-loading"])])])]}),_:1})])}}});export{fe as default};
