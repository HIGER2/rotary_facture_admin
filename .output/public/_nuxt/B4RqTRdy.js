import{_ as k}from"./C4hicQg3.js";import{_ as E}from"./fQBpDcuR.js";import{g as V,z as M,m as P,k as S,c as r,b as w,w as U,o as n,a as t,v as B,A as C,p as c,F as h,y as v,t as i}from"./CmxoKqvL.js";import{u as D}from"./D3lDVZ_s.js";import{u as L}from"./EeRZh3-q.js";import"./BqdciN8u.js";const N={class:"w-full"},R={class:"w-auto gap-2 flex items-center justify-between my-4"},T={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},j={class:"w-auto flex items-center justify-center h-full"},F=["value"],$={class:"w-full grid grid-cols-1 md:grid-cols-4 gap-4 p-2 my-3"},q={class:"text-xs text-gray-500 font-medium"},z={class:"text-lg font-extrabold"},A={class:"w-full p-2"},X=V({__name:"index",setup(G){const u=L(),d=D(),o=M({search:"",status:"1"}),m=[{label:"club",key:"name"},{label:"total facture",key:"total_facture"},{label:"montant total",key:"total_montant"},{label:"total payé",key:"total_paye"},{label:"total impayé",key:"total_impaye"},{label:"total en cours",key:"total_en_cours"}],g=async()=>{var e;let l=await d.all();d.optionExercice=[...(e=l.data)==null?void 0:e.data.map((s,f)=>({label:`${s==null?void 0:s.begin_date} - ${s==null?void 0:s.end_date}`,value:s==null?void 0:s.id}))]},_=async(l={})=>{const e=new URLSearchParams({search:o.search||"",status:o.status||""});await u.rapport(e)};return P(o,l=>{let e=setTimeout(async()=>{await _(l),clearTimeout(e)},400)},{deep:!0}),S(async()=>{await Promise.all([_(),g()])}),(l,e)=>{const s=k,f=E;return n(),r("div",null,[w(f,null,{default:U(({userConnected:H})=>{var x,y,b;return[t("div",N,[e[2]||(e[2]=t("div",{class:"p-2"},[t("h5",{class:"text-sm font-semibold uppercase text-neutral-500"},"Rapports")],-1)),t("div",R,[t("div",T,[e[1]||(e[1]=t("div",{class:"w-auto px-1 block border-r border-gray-300"},"Par exercice",-1)),t("div",j,[B(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>c(o).status=a),class:"w-full h-full bg-transparent border-none outline-none"},[(n(!0),r(h,null,v(c(d).optionExercice,(a,p)=>(n(),r("option",{key:p,value:a==null?void 0:a.value},i(a==null?void 0:a.label),9,F))),128))],512),[[C,c(o).status]])])])]),t("div",$,[(n(!0),r(h,null,v((y=(x=c(u))==null?void 0:x.rapports)==null?void 0:y.analityc,(a,p)=>(n(),r("div",{key:p,class:"box"},[t("span",q,i(a==null?void 0:a.label),1),t("h2",z,i(a==null?void 0:a.value),1)]))),128))]),t("div",A,[w(s,{columns:m,data:(b=c(u))==null?void 0:b.rapports.club},null,8,["data"])])])]}),_:1})])}}});export{X as default};
