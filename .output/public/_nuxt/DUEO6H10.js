import{g,c as m,o as i,F as w,y as S,a as t,t as _,b as c,w as p,d as v,r as x,k as T,p as r,z as E,m as G,C as k,l as I,v as A,x as O,A as R}from"./B6_zqcbV.js";import{_ as N}from"./DLXjXySG.js";import{_ as P}from"./Bn6nw2-u.js";import{_ as C}from"./BhYm3NLS.js";import{u as j}from"./B6Xcuug8.js";import{_ as q}from"./BQsi2Czk.js";import{u as H}from"./cz34h7bP.js";const J={class:"inline-flex mb-6 w-full cursor-pointer items-center justify-between bg-slate-00 text-slate-500 dark:bg-slate-800 dark:text-slate-400",style:{outline:"none"}},K=["onClick","data-state"],Q=g({__name:"ButtonTabsComponent",props:{isActive:{},setTabs:{type:Function}},setup(h){const a=[{libele:"Paiement Facture Per capita",index:1},{libele:"Paiement gala",index:2},{libele:"Paiement particiaption ACD",index:3}];return(l,u)=>(i(),m("div",J,[(i(),m(w,null,S(a,(o,f)=>t("button",{key:f,onClick:b=>l.setTabs(o.index),type:"button","data-state":l.isActive==o.index&&"active",class:"w-full hover:bg-sidebar hover:border border-b border-gray-200 hover:border-white cursor-pointer items-center justify-center whitespace-nowrap px-3 py-2 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-sidebar data-[state=active]:text-slate-950 data-[state=active]:border data-[state=active]:border-b-0 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50",tabindex:"-1","data-orientation":"horizontal","data-radix-collection-item":""},_(o.libele),9,K)),64))]))}}),W=g({__name:"TableComponent",props:{data:{},loading:{type:Boolean}},setup(h){const a=[{label:"référence",key:"reference"},{label:"Club",key:"club"},{label:"N°Facture",key:"fac"},{label:"montant",key:"amount"},{label:"statut",key:"status"},{label:"mode paiement",key:"mode_paiement"},{label:"date",key:"date"}];return(l,u)=>{const o=N,f=P,b=C;return i(),m("div",null,[c(b,{loading:l.loading,columns:a,data:l.data},{fac:p(({item:s})=>[c(o,{to:`/account/factures/${s==null?void 0:s.fac}`,class:"text-blue-500 hover:text-blue-700 hover:underline"},{default:p(()=>[v(_(s==null?void 0:s.fac),1)]),_:2},1032,["to"])]),status:p(({item:s})=>[c(f,{status:s==null?void 0:s.status},null,8,["status"])]),_:1},8,["loading","data"])])}}}),X=g({__name:"TableComponentGala",props:{data:{},loading:{type:Boolean}},setup(h){const a=x([]),l=[{label:"Nom",key:"firstName"},{label:"Prénoms",key:"lastName"},{label:"Nom de badge",key:"nameOnBadge"},{label:"Téléphone",key:"phoneNumber"},{label:"Email",key:"clientEmail"},{label:"Club",key:"rotaryClub"},{label:"Invité",key:"guestNumber"},{label:"Methode de paiement",key:"paymentMethod"},{label:"Date Paiement",key:"paymentDate"},{label:"Status",key:"state"},{label:"Amount",key:"paidAmount"}],u=async()=>{let o=await j("https://api.acd.district9101.org/public/api/v1.0/subscriptions/gala-members/success-payments");a.value=o.data.data,console.log(a.value)};return T(async()=>{u()}),(o,f)=>{const b=N,s=P,n=C;return i(),m("div",null,[c(n,{loading:o.loading,columns:l,data:r(a)},{fac:p(({item:e})=>[c(b,{to:`/account/factures/${e==null?void 0:e.fac}`,class:"text-blue-500 hover:text-blue-700 hover:underline"},{default:p(()=>[v(_(e==null?void 0:e.fac),1)]),_:2},1032,["to"])]),status:p(({item:e})=>[c(s,{status:e==null?void 0:e.status},null,8,["status"])]),_:1},8,["loading","data"])])}}}),Y=g({__name:"TableComponentAcd",props:{data:{},loading:{type:Boolean}},setup(h){const a=x([]),l=[{label:"Nom",key:"firstName"},{label:"Prénoms",key:"lastName"},{label:"Nom de badge",key:"nameOnBadge"},{label:"Pays",key:"country"},{label:"Club",key:"rotaryClub"},{label:"Téléphone",key:"phoneNumber"},{label:"Date arrivé",key:"arrivalDate"},{label:"Date départ",key:"departureDate"},{label:"Mode transport",key:"transportationMode"},{label:"Invité",key:"guestNumber"},{label:"Methode de paiement",key:"paymentMethod"},{label:"Date Paiement",key:"paymentDate"},{label:"Status",key:"state"},{label:"Amount",key:"paidAmount"}],u=async()=>{let o=await j("https://api.acd.district9101.org/public/api/v1.0/subscriptions/acd-members/success-payments");a.value=o.data.data,console.log(a.value)};return T(async()=>{u()}),(o,f)=>{const b=N,s=P,n=C;return i(),m("div",null,[c(n,{loading:o.loading,columns:l,data:r(a)},{fac:p(({item:e})=>[c(b,{to:`/account/factures/${e==null?void 0:e.fac}`,class:"text-blue-500 hover:text-blue-700 hover:underline"},{default:p(()=>[v(_(e==null?void 0:e.fac),1)]),_:2},1032,["to"])]),status:p(({item:e})=>[c(s,{status:e==null?void 0:e.status},null,8,["status"])]),_:1},8,["loading","data"])])}}}),Z={class:"w-full"},ee={class:"w-full p-2"},te={class:"w-full grid grid-cols-1 md:grid-cols-5 gap-4 p-2 mb-5"},ae={class:"text-xs text-gray-500 font-medium"},se={class:"text-lg font-extrabold"},oe={class:"w-full flex items-center justify-between mb-3"},ne={class:"w-auto"},le={class:"w-auto gap-2 flex items-center justify-between"},re={class:"w-full p-2"},fe=g({__name:"index",setup(h){const a=H(),l=x(!1),u=x(2),o=E({search:"",status:""}),f=s=>{u.value=s},b=async(s={})=>{var e;((e=a==null?void 0:a.payments)==null?void 0:e.length)==0&&(l.value=!0);const n=new URLSearchParams({search:o.search||"",status:s.status||""});await a.all(n),l.value=!1};return G(o,s=>{let n=setTimeout(async()=>{l.value=!0,a.payments=[],b(s),clearTimeout(n)},400)},{deep:!0}),T(()=>{b()}),(s,n)=>{const e=Q,L=W,V=X,F=Y,U=q;return i(),m("div",null,[c(U,null,{default:p(({userConnected:y})=>{var D,M,B,$;return[t("div",Z,[v(_(y==null?void 0:y.role)+" ",1),t("div",ee,[n[4]||(n[4]=t("div",{class:"w-full"},[t("div",{class:"w-full flex items-center justify-between mb-5"},[t("h5",{class:"text-sm font-semibold uppercase text-neutral-500"}," Paiements ")])],-1)),(y==null?void 0:y.role)!=="club"?(i(),k(e,{key:0,setTabs:f,"is-active":r(u)},null,8,["is-active"])):I("",!0),r(u)==1?(i(),m(w,{key:1},[t("div",te,[(i(!0),m(w,null,S((D=r(a))==null?void 0:D.analityc,(d,z)=>(i(),m("div",{key:z,class:"box"},[t("span",ae,_(d==null?void 0:d.label),1),t("h2",se,_(d==null?void 0:d.value),1)]))),128))]),t("div",oe,[t("div",ne,[A(t("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>r(o).search=d),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:"Recherche paiement...",autocomplete:"off"},null,512),[[O,r(o).search]])]),t("div",le,[A(t("select",{"onUpdate:modelValue":n[1]||(n[1]=d=>r(o).status=d),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[120px]"},n[2]||(n[2]=[t("option",{value:""},"Tout",-1),t("option",{value:"1"},"en attente",-1),t("option",{value:"2"},"payé",-1),t("option",{value:"3"},"échec",-1)]),512),[[R,r(o).status]]),n[3]||(n[3]=t("button",{class:"inline-flex items-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none disabled:opacity-50 border border-slate-200 bg-white shadow-sm hover:bg-slate-100 hover:text-slate-900 rounded-full px-3 text-xs h-8 w-full justify-start"},[t("svg",{class:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zM12 8.5v6"}),t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12.5l3 3 3-3"})]),v(" Télécharger ")],-1))])]),t("div",re,[c(L,{loading:r(l),data:(M=r(a))==null?void 0:M.payments},null,8,["loading","data"])])],64)):r(u)==2?(i(),k(V,{key:2,loading:r(l),data:(B=r(a))==null?void 0:B.payments},null,8,["loading","data"])):(i(),k(F,{key:3,loading:r(l),data:($=r(a))==null?void 0:$.payments},null,8,["loading","data"]))])])]}),_:1})])}}});export{fe as default};
