import{_ as A}from"./Bheuay_z.js";import{_ as w}from"./Dr1kNX1N.js";import{_ as q}from"./DgjLj6SW.js";import{f as k,a8 as f,c as v,o as g,b as y,w as m,a as e,t as i,m as C,p as b,bM as x,l}from"./CvSWjzOv.js";import{_ as M}from"./sCae6Xd2.js";import{u as $}from"./Ci-1TuVA.js";import{U as h}from"./DIIv37rX.js";const F={class:"grid mt-4 w-full max-w-lg gap-4"},U={class:"flex flex-col space-y-1.5 text-center sm:text-left"},V={id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"},B={class:"space-y-2 mb-4"},R={class:"w-full"},z={class:"w-full flex gap-4 items-center"},P={class:"flex items-center cursor-pointer"},L={class:"flex items-center cursor-pointer"},j={class:"w-full mb-3"},D={class:"flex justify-between items-center"},N={class:"text-[13px] font-[500] text-zinc-700"},S={class:"flex justify-between items-center mt-2"},E={class:"text-[13px] font-[500] text-zinc-700"},X=k({__name:"AddPaymentClubComponent",props:{isActive:{type:Boolean},setActive:{type:Function},processPayment:{type:Function},isLoading:{type:Boolean},paymentAmount:{}},setup(_){const o=_;function u(t,n){if(n>=100)return{montant_brut:0,montant_frais:0,montant_net:0,status:!1,message:"Le taux de commission ne peut pas être supérieur ou égal à 100%"};const a=1-n/100,p=Math.ceil(t/a),c=p-t,s=p-c;return{montant_brut:p,montant_frais:c,montant_net:s,status:!0,message:"Calcul effectué avec succès"}}const d=f(()=>{let t=0;return o.paymentAmount.mode_paiement==="mobile_money"?t=2.5:o.paymentAmount.mode_paiement==="credit_card"&&(t=3.5),u(o.paymentAmount.amount,t).montant_frais}),r=f(()=>{let t=0;return o.paymentAmount.mode_paiement==="mobile_money"?t=2.5:o.paymentAmount.mode_paiement==="credit_card"&&(t=3.5),u(o.paymentAmount.amount,t).montant_brut});return(t,n)=>{const a=A,p=w,c=q;return g(),v("div",null,[y(c,{isActive:t.isActive,onClose:()=>t.setActive(!1)},{default:m(()=>[e("div",F,[e("div",U,[e("h2",V,i(t.$t("facture.detail.payment_form.title_new")),1)]),e("form",{class:"space-y-8",onSubmit:n[3]||(n[3]=C((...s)=>t.processPayment&&t.processPayment(...s),["prevent"]))},[e("div",B,[y(a,{required:"",modelValue:t.paymentAmount.amount,"onUpdate:modelValue":n[0]||(n[0]=s=>t.paymentAmount.amount=s),min:"100",type:"number",label:t.$t("facture.detail.payment_form.label1"),placeholder:t.$t("facture.detail.payment_form.label1"),name:"title"},null,8,["modelValue","label","placeholder"])]),e("div",R,[n[6]||(n[6]=e("h3",{class:"mb-3"},"Moyen de paiement",-1)),e("div",z,[e("div",P,[b(e("input",{type:"radio",id:"mm",name:"mode_paiement","onUpdate:modelValue":n[1]||(n[1]=s=>t.paymentAmount.mode_paiement=s),value:"mobile_money",class:"peer checked:bg-primary mr-2 cursor-pointer",checked:""},null,512),[[x,t.paymentAmount.mode_paiement]]),n[4]||(n[4]=e("label",{for:"mm",class:"peer-checked:text-primary text-[13px] font-[500] text-zinc-700"},"Mobile Money",-1))]),e("div",L,[b(e("input",{type:"radio","onUpdate:modelValue":n[2]||(n[2]=s=>t.paymentAmount.mode_paiement=s),id:"cb",name:"mode_paiement",value:"credit_card",class:"peer checked:bg-primary mr-2 cursor-pointer"},null,512),[[x,t.paymentAmount.mode_paiement]]),n[5]||(n[5]=e("label",{for:"cb",class:"peer-checked:text-primary text-[13px] font-[500] text-zinc-700"},"Carte de Crédit",-1))])])]),e("div",j,[n[9]||(n[9]=e("h3",{class:"mb-3"},"Récapitulatif",-1)),e("div",D,[n[7]||(n[7]=e("span",{class:"text-[13px] font-[500] text-zinc-700"},"Frais",-1)),e("span",N,i(l(d))+" FCFA",1)]),e("div",S,[n[8]||(n[8]=e("span",{class:"text-[13px] font-[500] text-zinc-700"},"Montant à payer",-1)),e("span",E,i(l(r))+" FCFA",1)])]),y(p,{label:t.$t("facture.detail.payment_form.button_new")+` ( ${l(r)} )`,isLoading:t.isLoading},null,8,["label","isLoading"])],32)])]),_:1},8,["isActive","onClose"])])}}}),I={class:"mt-4"},T={class:"mt-6"},Y=k({__name:"RubriqueComponent",props:{rubriques:{},facture:{},user:{}},setup(_){$();const{formatNumber:o}=h(),u={admin:[{label:"libélé",key:"libele"},{label:"prix",key:"price"},{label:"quantité",key:"quantity"},{label:"montant total",key:"total_amount"},{label:"Montant payé",key:"amount_pay"},{label:"Reste à payer",key:"remaining_amount"},{label:"Reste à payer",key:"remaining_amount"},{label:"priorité",key:"priority"}],super_admin:[{label:"libélé",key:"libele"},{label:"prix",key:"price"},{label:"quantité",key:"quantity"},{label:"montant total",key:"total_amount"},{label:"Montant payé",key:"amount_pay"},{label:"Reste à payer",key:"remaining_amount"},{label:"priorité",key:"priority"}],club:[{label:"libélé",key:"libele"},{label:"prix",key:"price"},{label:"quantité",key:"quantity"},{label:"montant total",key:"total_amount"}]};return(d,r)=>{var n;const t=M;return g(),v("section",I,[r[0]||(r[0]=e("div",{class:"px-4 sm:px-0 flex items-center justify-between"},[e("h3",{class:"text-base font-semibold leading-7 text-gray-900"},"Rubriques")],-1)),e("div",T,[y(t,{columns:u[(n=d.user)==null?void 0:n.role],data:d.rubriques},{price:m(({item:a})=>[e("span",null,i(l(o)(a.price)),1)]),quantity:m(({item:a})=>[e("span",null,i(l(o)(a.quantity)),1)]),total_amount:m(({item:a})=>[e("span",null,i(l(o)(a.total_amount)),1)]),amount_pay:m(({item:a})=>[e("span",null,i(l(o)(a.amount_pay)),1)]),remaining_amount:m(({item:a})=>[e("span",null,i(l(o)(a.amount_pay)),1)]),_:1},8,["columns","data"])])])}}});export{Y as _,X as a};
