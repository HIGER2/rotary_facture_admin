import{_ as k}from"./aAZTLQQf.js";import{_ as T}from"./8Dfv3EoP.js";import{_ as C}from"./QZSqXYiQ.js";import{g as v,c,o as p,b as u,w as f,d as h,t as m,r as M,z as j,m as B,k as N,a as e,F as V,A as L,p as r,v as x,x as P,B as S}from"./DY93oi3b.js";import{_ as U}from"./BVGChidV.js";import{u as D}from"./Clv3Egwy.js";import"./C_gOdtv4.js";const F=v({__name:"TableComponent",props:{data:{},loading:{type:Boolean}},setup(w){const a=[{label:"référence",key:"reference"},{label:"Club",key:"club"},{label:"N°Facture",key:"fac"},{label:"montant",key:"amount"},{label:"statut",key:"status"},{label:"mode paiement",key:"mode_paiement"},{label:"date",key:"date"}];return(l,n)=>{const d=k,i=T,t=C;return p(),c("div",null,[u(t,{loading:l.loading,columns:a,data:l.data},{fac:f(({item:s})=>[u(d,{to:`/account/factures/${s==null?void 0:s.fac}`,class:"text-blue-500 hover:text-blue-700 hover:underline"},{default:f(()=>[h(m(s==null?void 0:s.fac),1)]),_:2},1032,["to"])]),status:f(({item:s})=>[u(i,{status:s==null?void 0:s.status},null,8,["status"])]),_:1},8,["loading","data"])])}}}),$={class:"w-full"},z={class:"w-full p-2"},R={class:"w-full"},q={class:"w-full grid grid-cols-1 md:grid-cols-5 gap-4 p-2 mb-5"},A={class:"text-xs text-gray-500 font-medium"},E={class:"text-lg font-extrabold"},G={class:"w-full flex items-center justify-between mb-3"},H={class:"w-auto"},I={class:"w-auto gap-2 flex items-center justify-between"},J={class:"w-full p-2"},ee=v({__name:"index",setup(w){const a=D(),l=M(!1),n=j({search:"",status:""}),d=async(i={})=>{var s;((s=a==null?void 0:a.payments)==null?void 0:s.length)==0&&(l.value=!0);const t=new URLSearchParams({search:n.search||"",status:i.status||""});await a.all(t),l.value=!1};return B(n,i=>{let t=setTimeout(async()=>{l.value=!0,a.payments=[],d(i),clearTimeout(t)},400)},{deep:!0}),N(()=>{d()}),(i,t)=>{const s=F,g=U;return p(),c("div",null,[u(g,null,{default:f(()=>{var _,b;return[e("div",$,[e("div",z,[e("div",R,[t[4]||(t[4]=e("div",{class:"w-full flex items-center justify-between mb-10"},[e("h5",{class:"text-sm font-semibold uppercase text-neutral-500"}," Paiements ")],-1)),e("div",q,[(p(!0),c(V,null,L((_=r(a))==null?void 0:_.analityc,(o,y)=>(p(),c("div",{key:y,class:"box"},[e("span",A,m(o==null?void 0:o.label),1),e("h2",E,m(o==null?void 0:o.value),1)]))),128))]),e("div",G,[e("div",H,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r(n).search=o),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:"Recherche paiement...",autocomplete:"off"},null,512),[[P,r(n).search]])]),e("div",I,[x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>r(n).status=o),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[120px]"},t[2]||(t[2]=[e("option",{value:""},"Tout",-1),e("option",{value:"1"},"en attente",-1),e("option",{value:"2"},"payé",-1),e("option",{value:"3"},"échec",-1)]),512),[[S,r(n).status]]),t[3]||(t[3]=e("button",{class:"inline-flex items-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none disabled:opacity-50 border border-slate-200 bg-white shadow-sm hover:bg-slate-100 hover:text-slate-900 rounded-full px-3 text-xs h-8 w-full justify-start"},[e("svg",{class:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zM12 8.5v6"}),e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12.5l3 3 3-3"})]),h(" Télécharger ")],-1))])])]),e("div",J,[u(s,{loading:r(l),data:(b=r(a))==null?void 0:b.payments},null,8,["loading","data"])])])])]}),_:1})])}}});export{ee as default};
