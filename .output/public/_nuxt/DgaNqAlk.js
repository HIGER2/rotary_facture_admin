import{f as k,r as h,z as U,k as j,i as F,c as u,b as d,w as v,o as f,a as e,j as L,t as l,e as T,d as M,F as S,q as B,l as s,p as x,v as P,E as q}from"./BFPTrp0h.js";import{_ as D}from"./CXJBAqDr.js";import{_ as E}from"./CJrabbkQ.js";import{_ as z}from"./CFXGKQw5.js";import{u as G}from"./1cxuoOn_.js";import{U as J}from"./DIIv37rX.js";import"./t10vKh5n.js";import"./BQnPyFD4.js";const O={class:"w-full"},R={class:"w-full p-2"},A={class:"w-full"},H={class:"w-full flex items-center justify-between mb-10"},I={class:"text-sm font-semibold uppercase text-neutral-500"},K={key:0,class:"w-auto"},Q={class:"w-full grid grid-cols-1 md:grid-cols-4 gap-4 p-2 mb-5"},W={class:"text-xs text-gray-500 font-medium"},X={class:"text-lg font-extrabold"},Y={class:"w-full flex items-center justify-between mb-3"},Z={class:"w-auto"},C=["placeholder"],ee={class:"w-auto gap-2 flex items-center justify-between"},te={value:""},se={value:"brouillon"},ae={value:"courante"},oe={value:"arriere"},le={class:"w-full"},_e=k({__name:"index",setup(ie){const n=G(),c=h(!1),{formatNumber:w}=J(),p=h([]),r=U({search:"",status:""}),m=async(t={})=>{p.value.length==0&&(c.value=!0);const o=new URLSearchParams({search:r.search||"",status:t.status||"",statusPayment:JSON.stringify(["payeÃ©"])});p.value=await n.all(o),c.value=!1};return j(r,t=>{let o=setTimeout(async()=>{c.value=!0,n.factures=[],m(t),clearTimeout(o)},400)},{deep:!0}),F(()=>{m()}),(t,o)=>{const g=T,y=D,$=E,N=z;return f(),u("div",null,[d(N,null,{default:v(({userConnected:i})=>{var _,b;return[e("div",O,[e("div",R,[e("div",A,[e("div",H,[e("h5",I,l(t.$t("facture.title")),1),(i==null?void 0:i.role)!=="club"?(f(),u("div",K,[d(g,{class:"inline-flex items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none text-xs disabled:opacity-50 bg-primary text-slate-50 shadow px-4 py-3 self-start",to:"/account/factures/create"},{default:v(()=>[M(l(t.$t("facture.button")),1)]),_:1})])):L("",!0)])]),e("div",Q,[(f(!0),u(S,null,B((_=s(n))==null?void 0:_.analityc,(a,V)=>(f(),u("div",{key:V,class:"box"},[e("span",W,l(t.$t(a==null?void 0:a.label)),1),e("h2",X,l(s(w)(a==null?void 0:a.value)),1)]))),128))]),e("div",Y,[e("div",Z,[x(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>s(r).search=a),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:t.$t("placeholder_search"),autocomplete:"off"},null,8,C),[[P,s(r).search]])]),e("div",ee,[x(e("select",{"onUpdate:modelValue":o[1]||(o[1]=a=>s(r).status=a),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[120px]"},[e("option",te,l(t.$t("facture.filter.x1")),1),e("option",se,l(t.$t("facture.filter.x3")),1),e("option",ae,l(t.$t("facture.filter.x2")),1),e("option",oe,l(t.$t("facture.filter.x4")),1)],512),[[q,s(r).status]]),d(y,{data:(b=s(n))==null?void 0:b.factures,colunm:s(n).columns[i==null?void 0:i.role],lang:""},null,8,["data","colunm"])])]),e("div",le,[d($,{type:"invoice_paid",columns:s(n).columns,loading:s(c),user:i,data:s(p)},null,8,["columns","loading","user","data"])])])])]}),_:1})])}}});export{_e as default};
