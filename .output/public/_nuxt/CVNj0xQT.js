import{f as V,r as k,y as U,k as j,i as L,c as d,b as f,w as v,o as p,a as t,j as T,t as i,e as M,d as B,F as D,q as F,l as s,p as x,v as P,D as S}from"./CB58tbNn.js";import{_ as q}from"./Dp24bLHP.js";import{_ as E}from"./BEHnHy2a.js";import{_ as G}from"./B1kx8xWt.js";import{u as R}from"./A6eIA9EX.js";import{U as z}from"./DIIv37rX.js";import"./B8H7ImXD.js";import"./BuacfXMz.js";const A={class:"w-full"},H={class:"w-full p-2"},I={class:"w-full"},J={class:"w-full flex items-center justify-between mb-10"},K={class:"text-sm font-semibold uppercase text-neutral-500"},O={key:0,class:"w-auto"},Q={class:"w-full grid grid-cols-1 md:grid-cols-4 gap-4 p-2 mb-5"},W={class:"text-xs text-gray-500 font-medium"},X={class:"text-lg font-extrabold"},Y={class:"w-full flex items-center justify-between mb-3"},Z={class:"w-auto"},C=["placeholder"],tt={class:"w-auto gap-2 flex items-center justify-between"},et={value:""},st={value:"brouillon"},ot={value:"courante"},at={value:"arriere"},lt={class:"w-full"},_t=V({__name:"index",setup(it){const o=R(),c=k(!1),{formatNumber:w}=z(),r=U({search:"",status:""}),m=async(e={})=>{var u;((u=o==null?void 0:o.factures)==null?void 0:u.length)==0&&(c.value=!0);const l=new URLSearchParams({search:r.search||"",status:e.status||"",statusPayment:""});await o.all(l),c.value=!1};return j(r,e=>{let l=setTimeout(async()=>{c.value=!0,o.factures=[],m(e),clearTimeout(l)},400)},{deep:!0}),L(()=>{m()}),(e,l)=>{const u=M,g=q,y=E,$=G;return p(),d("div",null,[f($,null,{default:v(({userConnected:n})=>{var _,b,h;return[t("div",A,[t("div",H,[t("div",I,[t("div",J,[t("h5",K,i(e.$t("facture.title")),1),(n==null?void 0:n.role)!=="club"?(p(),d("div",O,[f(u,{class:"inline-flex items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none text-xs disabled:opacity-50 bg-primary text-slate-50 shadow px-4 py-3 self-start",to:"/account/factures/create"},{default:v(()=>[B(i(e.$t("facture.button")),1)]),_:1})])):T("",!0)])]),t("div",Q,[(p(!0),d(D,null,F((_=s(o))==null?void 0:_.analityc,(a,N)=>(p(),d("div",{key:N,class:"box"},[t("span",W,i(e.$t(a==null?void 0:a.label)),1),t("h2",X,i(s(w)(a==null?void 0:a.value)),1)]))),128))]),t("div",Y,[t("div",Z,[x(t("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>s(r).search=a),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:e.$t("placeholder_search"),autocomplete:"off"},null,8,C),[[P,s(r).search]])]),t("div",tt,[x(t("select",{"onUpdate:modelValue":l[1]||(l[1]=a=>s(r).status=a),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[120px]"},[t("option",et,i(e.$t("facture.filter.x1")),1),t("option",st,i(e.$t("facture.filter.x3")),1),t("option",ot,i(e.$t("facture.filter.x2")),1),t("option",at,i(e.$t("facture.filter.x4")),1)],512),[[S,s(r).status]]),f(g,{data:(b=s(o))==null?void 0:b.factures,colunm:s(o).columns[n==null?void 0:n.role],lang:""},null,8,["data","colunm"])])]),t("div",lt,[f(y,{columns:s(o).columns,loading:s(c),user:n,data:(h=s(o))==null?void 0:h.factures},null,8,["columns","loading","user","data"])])])])]}),_:1})])}}});export{_t as default};
