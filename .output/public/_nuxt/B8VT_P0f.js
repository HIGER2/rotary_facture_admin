import{_ as j}from"./WXWcqCSl.js";import{_ as T}from"./Bheuay_z.js";import{_ as q}from"./Dr1kNX1N.js";import{f as h,D,c as u,o as r,a as s,m as F,l as a,j as N,F as $,q as V,b as d,z as E,r as b,k as O,i as P,t as w,p as z,E as I,w as R,A as G,B as H}from"./CvSWjzOv.js";import{u as J}from"./DxBsxsK2.js";import{_ as K,a as Q,b as W}from"./J6hN8-mo.js";import{u as X}from"./G7EwYSWl.js";import"./sCae6Xd2.js";import"./C4sl2I8Z.js";import"./DgjLj6SW.js";const Y={class:"w-full"},Z={key:0,class:"w-full mt-3 p-4 border overflow-hidden border-gray-200 rounded-lg"},ee={class:"w-full mt-4"},te={class:"w-full"},se=h({__name:"CurrenryComponent",setup(y){const t=J();return D(()=>{t.allCurrency()}),(i,c)=>{const p=T,_=q;return r(),u("div",null,[s("div",Y,[s("form",{class:"w-120 mx-auto",onSubmit:c[0]||(c[0]=F((...o)=>a(t).createOrUpdateCurrency&&a(t).createOrUpdateCurrency(...o),["prevent"]))},[a(t).currency?(r(),u("div",Z,[(r(!0),u($,null,V(a(t).currency,(o,f)=>(r(),u("div",{class:"mb-4 flex gap-2",key:f},[d(p,{modelValue:o.name,"onUpdate:modelValue":m=>o.name=m,label:"Code",placeholder:"code",readonly:"",name:"title"},null,8,["modelValue","onUpdate:modelValue"]),d(p,{required:f==0,modelValue:o.taux,"onUpdate:modelValue":m=>o.taux=m,modelModifiers:{number:!0},label:"Taux",type:"number",placeholder:"Taux",name:"title"},null,8,["required","modelValue","onUpdate:modelValue"])]))),128))])):N("",!0),s("div",ee,[s("div",te,[d(_,{label:"Enregistrer",isLoading:a(t).isLoading},null,8,["isLoading"])])])],32)])])}}}),ae={class:"w-full"},oe={class:"w-full p-2"},ne={class:"w-full"},le={class:"w-full flex items-center justify-between mb-10"},re={class:"text-sm font-semibold uppercase text-neutral-500"},ie={class:"w-auto"},ue={class:"w-full flex items-center justify-between mb-3"},de={class:"w-auto gap-2 flex items-center justify-between"},ce={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},pe={class:"w-auto px-1 block border-r border-gray-300"},_e={class:"w-auto flex items-center justify-center h-full"},fe=["value"],me={class:"w-full p-2"},ve=h({__name:"UserComponent",setup(y){const t=X(),i=E({search:"",status:"",limit:"1"}),c=b(!1),p=b(!1),_=b(!1),o=e=>{c.value=e},f=e=>{p.value=e},m=e=>{t.updateUser.last_name=e==null?void 0:e.last_name,t.updateUser.email=e==null?void 0:e.email,t.updateUser.id=e==null?void 0:e.id,t.updateUser.name=e==null?void 0:e.name,t.updateUser.phone=e==null?void 0:e.phone,t.updateUser.role=e==null?void 0:e.role,f(!0)},k=async()=>{await t.create(),await v()},L=async()=>{await t.update(),await v()},v=async(e={})=>{const n=new URLSearchParams({search:i.search||"",page:i.limit||"",status:e.status||""});await t.allByFilter(n),_.value=!1};return O(i,e=>{let n=setTimeout(async()=>{v(e),clearTimeout(n)},400)},{deep:!0}),P(()=>{v()}),(e,n)=>{var g,U,x,C;const B=K,S=Q,A=W;return r(),u("div",null,[s("div",ae,[s("div",oe,[s("div",ne,[s("div",le,[s("h5",re,w(e.$t("user.title")),1),s("div",ie,[s("button",{onClick:n[0]||(n[0]=l=>o(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors text-xs disabled:opacity-50 bg-primary text-slate-50 shadow px-4 py-3 self-start"},w(e.$t("user.button")),1)])]),s("div",ue,[n[2]||(n[2]=s("div",{class:"w-auto"},null,-1)),s("div",de,[s("div",ce,[s("div",pe,w(e.$t("filter_page")),1),s("div",_e,[z(s("select",{"onUpdate:modelValue":n[1]||(n[1]=l=>a(i).limit=l),class:"w-full h-full bg-transparent border-none outline-none"},[(r(!0),u($,null,V((U=(g=a(t))==null?void 0:g.users)==null?void 0:U.page,(l,M)=>(r(),u("option",{key:M,value:l==null?void 0:l.label},w(l==null?void 0:l.label),9,fe))),128))],512),[[I,a(i).limit]])])])])])]),s("div",me,[d(B,{loading:a(_),data:(C=(x=a(t))==null?void 0:x.users)==null?void 0:C.data,setUpdate:m},null,8,["loading","data"])]),d(S,{"new-user":a(t).newUser,"create-user":k,"set-active":o,"is-active":a(c),"is-loading":a(t).isLoading},null,8,["new-user","is-active","is-loading"]),d(A,{update:a(t).updateUser,"update-user":L,"set-active":f,"is-active":a(p),"is-loading":a(t).isLoading},null,8,["update","is-active","is-loading"])])])])}}}),we={class:"w-full"},Le=h({__name:"index",setup(y){const t=b(1),i={1:ve,2:se};return(c,p)=>{const _=j;return r(),u("div",null,[d(_,null,{default:R(({userConnected:o})=>[s("div",we,[(r(),G(H(i[a(t)])))])]),_:1})])}}});export{Le as default};
