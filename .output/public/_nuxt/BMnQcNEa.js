import{_ as F}from"./BHAbVgV0.js";import{_ as T}from"./BfK0AY3i.js";import{_ as L}from"./Bw2NuwXM.js";import{_ as j}from"./CjM3_890.js";import{g as M,r as U,z as B,m as S,k as A,c,b as d,w as x,o as f,a as e,l as D,d as P,F as R,y as $,p as s,v as g,x as q,A as z,t as h}from"./BaBDG9Hc.js";import{u as E}from"./fTS7o-iZ.js";import"./DU41i_7f.js";import"./B-XounCc.js";import"./D9PkUd2M.js";const G={class:"w-full"},H={class:"w-full p-2"},I={class:"w-full"},J={class:"w-full flex items-center justify-between mb-10"},K={key:0,class:"w-auto"},O={class:"w-full grid grid-cols-1 md:grid-cols-4 gap-4 p-2 mb-5"},Q={class:"text-xs text-gray-500 font-medium"},W={class:"text-lg font-extrabold"},X={class:"w-full flex items-center justify-between mb-3"},Y={class:"w-auto"},Z={class:"w-auto gap-2 flex items-center justify-between"},C={class:"w-full p-2"},ce=M({__name:"index",setup(ee){const l=E(),r=U(!1),n=B({search:"",status:""}),m=[{label:"colunm_facture.td1",key:"reference"},{label:"colunm_facture.td2",key:"amount"},{label:"colunm_facture.td9",key:"amount_pay"},{label:"colunm_facture.td3",key:"remaining_amount"},{label:"colunm_facture.td8",key:"type"},{label:"colunm_facture.td4",key:"status"},{label:"colunm_facture.td5",key:"date_emission"},{label:"colunm_facture.td6",key:"date_echeance"},{label:"colunm_facture.td7",key:"action"}],p={admin:m,super_admin:m,club:[{label:"colunm_facture.td1",key:"reference"},{label:"colunm_facture.td2",key:"amount"},{label:"colunm_facture.td3",key:"remaining_amount"},{label:"colunm_facture.td8",key:"type"},{label:"colunm_facture.td4",key:"status"},{label:"colunm_facture.td5",key:"date_emission"},{label:"colunm_facture.td6",key:"date_echeance"}]},_=async(i={})=>{var u;((u=l==null?void 0:l.factures)==null?void 0:u.length)==0&&(r.value=!0);const t=new URLSearchParams({search:n.search||"",status:i.status||""});await l.all(t),r.value=!1};return S(n,i=>{let t=setTimeout(async()=>{r.value=!0,l.factures=[],_(i),clearTimeout(t)},400)},{deep:!0}),A(()=>{_()}),(i,t)=>{const u=F,w=T,k=L,N=j;return f(),c("div",null,[d(N,null,{default:x(({userConnected:o})=>{var b,y,v;return[e("div",G,[e("div",H,[e("div",I,[e("div",J,[t[3]||(t[3]=e("h5",{class:"text-sm font-semibold uppercase text-neutral-500"},"Factures",-1)),(o==null?void 0:o.role)!=="club"?(f(),c("div",K,[d(u,{class:"inline-flex items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none text-xs disabled:opacity-50 bg-[#1F2923] text-slate-50 shadow hover:bg-[#2f3a34] px-4 py-3 self-start",to:"/account/factures/create"},{default:x(()=>t[2]||(t[2]=[P(" Nouvelle Facture ")])),_:1})])):D("",!0)])]),e("div",O,[(f(!0),c(R,null,$((b=s(l))==null?void 0:b.analityc,(a,V)=>(f(),c("div",{key:V,class:"box"},[e("span",Q,h(a==null?void 0:a.label),1),e("h2",W,h(a==null?void 0:a.value),1)]))),128))]),e("div",X,[e("div",Y,[g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>s(n).search=a),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:"Recherche facture...",autocomplete:"off"},null,512),[[q,s(n).search]])]),e("div",Z,[g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>s(n).status=a),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[120px]"},t[4]||(t[4]=[e("option",{value:""},"Tout",-1),e("option",{value:"en_cours"},"en cours",-1),e("option",{value:"brouillon"},"brouillon",-1),e("option",{value:"payée"},"payée",-1),e("option",{value:"annulée"},"annulée",-1),e("option",{value:"partiellement_payé"},"partiellement payé",-1),e("option",{value:"arriérée"},"arriérée",-1)]),512),[[z,s(n).status]]),d(w,{data:(y=s(l))==null?void 0:y.factures,colunm:p[o==null?void 0:o.role],lang:""},null,8,["data","colunm"])])]),e("div",C,[d(k,{columns:p,loading:s(r),user:o,data:(v=s(l))==null?void 0:v.factures},null,8,["loading","user","data"])])])])]}),_:1})])}}});export{ce as default};
