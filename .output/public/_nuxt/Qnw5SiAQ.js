import{_ as B}from"./DjjYKGrm.js";import{_ as q}from"./CrWojyS0.js";import{_ as N}from"./P6VF-JkZ.js";import{_ as M}from"./CvmvysaG.js";import{_ as S}from"./BYCPwYEc.js";import{_ as C}from"./CAYmxFvT.js";import{_ as F}from"./DVn-IDvx.js";import{g as V,c as $,o as U,b as i,w as f,a as e,j as L,x as A,l,p as j,A as D,t as u}from"./CraAwoDk.js";import{u as E}from"./DaAsj490.js";import{_ as I}from"./BpwKFcjw.js";import{u as R}from"./CG9X6it1.js";import"./CMICIuFv.js";const G={class:"grid mt-4 w-full max-w-lg gap-4"},T={class:"space-y-2 mb-4 flex gap-2"},W={class:"space-y-2 mb-4"},z=V({__name:"AddPaymentComponent",props:{isActive:{type:Boolean},setActive:{type:Function},createPayment:{type:Function},isLoading:{type:Boolean},newPayment:{},optionMethode:{},optionStatus:{}},setup(_){return(t,a)=>{const m=M,s=S,p=C,r=F;return U(),$("div",null,[i(r,{isActive:t.isActive,onClose:()=>t.setActive(!1)},{default:f(()=>[e("div",G,[a[4]||(a[4]=e("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[e("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Nouveau paiement ")],-1)),e("form",{class:"space-y-8",onSubmit:a[3]||(a[3]=L((...o)=>t.createPayment&&t.createPayment(...o),["prevent"]))},[e("div",T,[i(m,{required:"",label:"Statut",modelValue:t.newPayment.status,"onUpdate:modelValue":a[0]||(a[0]=o=>t.newPayment.status=o),options:t.optionStatus,placeholder:"Statut",name:"title"},null,8,["modelValue","options"]),i(m,{required:"",modelValue:t.newPayment.mode_paiement,"onUpdate:modelValue":a[1]||(a[1]=o=>t.newPayment.mode_paiement=o),options:t.optionMethode,label:"Mode de paiement",placeholder:"mode paiement",name:"title"},null,8,["modelValue","options"])]),e("div",W,[i(s,{required:"",modelValue:t.newPayment.amount,"onUpdate:modelValue":a[2]||(a[2]=o=>t.newPayment.amount=o),min:"1",type:"number",label:"Montant",placeholder:"Montant",name:"title"},null,8,["modelValue"])]),i(p,{label:"Créer",isLoading:t.isLoading},null,8,["isLoading"])],32)])]),_:1},8,["isActive","onClose"])])}}}),H={class:"grid mt-4 w-full max-w-lg gap-4"},J={class:"space-y-2 mb-4 flex gap-2"},K={class:"space-y-2 mb-4"},O=V({__name:"UpdatePaymentComponent",props:{isActive:{type:Boolean},setActive:{type:Function},updatePayment:{type:Function},isLoading:{type:Boolean},update:{},optionMethode:{},optionStatus:{}},setup(_){return(t,a)=>{const m=M,s=S,p=C,r=F;return U(),$("div",null,[i(r,{isActive:t.isActive,onClose:()=>t.setActive(!1)},{default:f(()=>[e("div",H,[a[4]||(a[4]=e("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[e("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Modifier paiement ")],-1)),e("form",{class:"space-y-8",onSubmit:a[3]||(a[3]=L((...o)=>t.updatePayment&&t.updatePayment(...o),["prevent"]))},[e("div",J,[i(m,{required:"",label:"Statut",modelValue:t.update.status,"onUpdate:modelValue":a[0]||(a[0]=o=>t.update.status=o),options:t.optionStatus,placeholder:"Statut",name:"title"},null,8,["modelValue","options"]),i(m,{required:"",modelValue:t.update.mode_paiement,"onUpdate:modelValue":a[1]||(a[1]=o=>t.update.mode_paiement=o),options:t.optionMethode,label:"Mode de paiement",placeholder:"mode paiement",name:"title"},null,8,["modelValue","options"])]),e("div",K,[i(s,{required:"",modelValue:t.update.amount,"onUpdate:modelValue":a[2]||(a[2]=o=>t.update.amount=o),min:"1",type:"number",label:"Montant",placeholder:"Montant",name:"title"},null,8,["modelValue"])]),i(p,{label:"Enregistrer",isLoading:t.isLoading},null,8,["isLoading"])],32)])]),_:1},8,["isActive","onClose"])])}}}),Q={class:"mt-4"},X={class:"px-4 sm:px-0 flex items-center justify-between"},Y={class:"mt-6"},Z=["onClick"],tt=V({__name:"PaymentComponent",props:{payments:{},facture:{},handleListe:{type:Function}},setup(_){const t=E(),a=_,m=A(!1),s=A(!1),p=n=>{s.value=n},r=n=>{m.value=n},o=n=>{t.updatePayment.status=n==null?void 0:n.status,t.updatePayment.mode_paiement=n==null?void 0:n.mode_paiement,t.updatePayment.id=n==null?void 0:n.id,t.updatePayment.amount=n==null?void 0:n.amount,p(!0)},v=async n=>{await Promise.all([t.create(n),a.handleListe()])},x=async()=>{await Promise.all([t.update(),a.handleListe()])},b=[{label:"référence",key:"reference"},{label:"montant",key:"amount"},{label:"statut",key:"status"},{label:"mode paiement",key:"mode_paiement"},{label:"date",key:"date"},{label:"action",key:"action"}],y=[{label:"en attente",status:"en attente"},{label:"payé",status:"payée"},{label:"échec",status:"échec"},{label:"annulé",status:"annulé"}],g=[{label:"espèces",status:"espèces"},{label:"chèque",status:"chèque"},{label:"mobile money",status:"mobile money"},{label:"virement",status:"virement"},{label:"carte",status:"carte"}];return(n,d)=>{const P=q,w=N,h=z,k=O;return U(),$("section",Q,[e("div",X,[d[1]||(d[1]=e("h3",{class:"text-base font-semibold leading-7 text-gray-900"},"Paiements",-1)),e("button",{type:"button",onClick:d[0]||(d[0]=c=>r(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none text-xs disabled:opacity-50 bg-[#1F2923] text-slate-50 shadow hover:bg-[#2f3a34] px-4 py-3 self-start"}," Nouveau paiement ")]),e("div",Y,[i(w,{columns:b,data:n.payments},{status:f(({item:c})=>[i(P,{status:c==null?void 0:c.status},null,8,["status"])]),action:f(({item:c})=>[e("button",{type:"button",onClick:Pt=>o(c),class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},d[2]||(d[2]=[e("i",{class:"uil uil-pen"},null,-1)]),8,Z)]),_:1},8,["data"])]),i(h,{"is-active":l(m),"set-active":r,"option-status":y,newPayment:l(t).newPayment,"option-methode":g,createPayment:()=>v(n.facture),"is-loading":l(t).isLoading},null,8,["is-active","newPayment","createPayment","is-loading"]),i(k,{"is-active":l(s),"set-active":p,"option-status":y,update:l(t).updatePayment,"option-methode":g,updatePayment:x,"is-loading":l(t).isLoading},null,8,["is-active","update","is-loading"])])}}}),et={class:"w-full p-2"},st={class:"w-full"},at={class:"mt-6 bg-white p-4 border overflow-hidden border-gray-200 rounded-lg"},nt={class:"divide-y divide-gray-100"},ot={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},it={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},lt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},mt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},dt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},pt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},rt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},ut={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},ct={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},yt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},gt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},ft={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},_t={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},vt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},xt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},bt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},Bt=V({__name:"[slug]",setup(_){const t=R(),a=async()=>{var s;const m=D();await t.findWithPaiement((s=m==null?void 0:m.params)==null?void 0:s.slug)};return j(()=>{a()}),(m,s)=>{const p=B,r=tt,o=I;return U(),$("div",null,[i(o,null,{default:f(()=>{var v,x,b,y,g,n,d,P,w,h;return[e("div",et,[e("section",st,[s[8]||(s[8]=e("div",{class:"px-4 sm:px-0"},[e("h3",{class:"text-base font-semibold leading-7 text-gray-900"},"Général"),e("p",{class:"mt-1 max-w-2xl text-sm leading-6 text-gray-500"},"Détail de la facture")],-1)),e("div",at,[e("dl",nt,[e("div",ot,[s[0]||(s[0]=e("div",{class:"text-sm font-medium leading-6 text-gray-900"}," N°Facture ",-1)),e("div",it,u((v=l(t).facture)==null?void 0:v.reference),1)]),e("div",lt,[s[1]||(s[1]=e("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Club ",-1)),e("div",mt,u((b=(x=l(t).facture)==null?void 0:x.club)==null?void 0:b.name),1)]),e("div",dt,[s[2]||(s[2]=e("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Montant ",-1)),e("div",pt,u((y=l(t).facture)==null?void 0:y.amount),1)]),e("div",rt,[s[3]||(s[3]=e("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Reste à payer ",-1)),e("div",ut,u((g=l(t).facture)==null?void 0:g.remaining_amount),1)]),e("div",ct,[s[4]||(s[4]=e("dt",{class:"text-sm font-medium leading-6 text-gray-900"}," Statut ",-1)),e("div",yt,[i(p,{status:(n=l(t).facture)==null?void 0:n.status},null,8,["status"])])]),e("div",gt,[s[5]||(s[5]=e("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Description ",-1)),e("div",ft,u((d=l(t).facture)==null?void 0:d.objet),1)]),e("div",_t,[s[6]||(s[6]=e("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Date émission ",-1)),e("div",vt,u((P=l(t).facture)==null?void 0:P.date_emission),1)]),e("div",xt,[s[7]||(s[7]=e("div",{class:"text-sm font-medium leading-6 text-gray-900"}," date échéance ",-1)),e("div",bt,u((w=l(t).facture)==null?void 0:w.date_echeance),1)])])])]),i(r,{payments:(h=l(t).facture)==null?void 0:h.payments,facture:l(t).facture,handleListe:a},null,8,["payments","facture"])])]}),_:1})])}}});export{Bt as default};
