import{_ as q}from"./RgWaZmvX.js";import{_ as D}from"./D4rOHJVn.js";import{_ as L}from"./D_v3yP7M.js";import{_ as j}from"./C0bUFWL7.js";import{_ as A}from"./BKAOxBj3.js";import{_ as B}from"./BQ7XC8i8.js";import{g as T,x as R,p as z,c as E,b as m,w as k,z as G,o as I,a as t,t as i,l as s,n as W,j as H}from"./DvIDVNoU.js";import{u as J}from"./CIbRPHSv.js";import{u as K}from"./ZMSITnJ9.js";import"./D0nEMZxT.js";const O={class:"w-full p-2"},Q={class:"w-full"},X={class:"mt-6 bg-white p-4 border overflow-hidden border-gray-200 rounded-lg"},Y={class:"divide-y divide-gray-100"},Z={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},tt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},et={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},st={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},at={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},nt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},ot={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},it={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},lt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},mt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},dt={class:"inline-flex items-center rounded-md border border-slate-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 dark:border-slate-800 dark:focus:ring-slate-300 dark:text-slate-50 bg-green-50 text-green-700 ring-1 ring-green-600/20"},rt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},ct={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},ut={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},pt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},gt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},xt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},ft={class:"mt-4"},_t={class:"px-4 sm:px-0 flex items-center justify-between"},yt={class:"mt-6"},vt={class:"grid mt-4 w-full max-w-lg gap-4"},bt={class:"space-y-2 mb-4 flex gap-2"},wt={class:"space-y-2 mb-4"},qt=T({__name:"[slug]",setup(ht){const a=J(),o=K(),d=R(!1),r=n=>{d.value=n},c=async()=>{var e;const n=G();await a.findWithPaiement((e=n==null?void 0:n.params)==null?void 0:e.slug)},V=async n=>{await o.create(n),await c()};z(()=>{c()});const P=[{label:"référence",key:"reference"},{label:"montant",key:"amount"},{label:"statut",key:"status"},{label:"mode paiement",key:"mode_paiement"},{label:"date",key:"date"}],M=[{label:"en attente",status:"en attente"},{label:"payée",status:"payée"},{label:"annulée",status:"annulée"}],C=[{label:"espèces",status:"espèces"},{label:"chèque",status:"chèque"},{label:"mobile money",status:"mobile money"},{label:"virement",status:"virement"},{label:"carte",status:"carte"}];return(n,e)=>{const S=q,u=D,U=L,F=j,N=A,$=B;return I(),E("div",null,[m($,null,{default:k(()=>{var p,g,x,f,_,y,v,b,w,h;return[t("div",O,[t("section",Q,[e[13]||(e[13]=t("div",{class:"px-4 sm:px-0"},[t("h3",{class:"text-base font-semibold leading-7 text-gray-900"},"Général"),t("p",{class:"mt-1 max-w-2xl text-sm leading-6 text-gray-500"},"Détail de la facture")],-1)),t("div",X,[t("dl",Y,[t("div",Z,[e[5]||(e[5]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," N°Facture ",-1)),t("div",tt,i((p=s(a).facture)==null?void 0:p.reference),1)]),t("div",et,[e[6]||(e[6]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Club ",-1)),t("div",st,i((x=(g=s(a).facture)==null?void 0:g.club)==null?void 0:x.name),1)]),t("div",at,[e[7]||(e[7]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Montant ",-1)),t("div",nt,i((f=s(a).facture)==null?void 0:f.amount),1)]),t("div",ot,[e[8]||(e[8]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Reste à payer ",-1)),t("div",it,i((_=s(a).facture)==null?void 0:_.remaining_amount),1)]),t("div",lt,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium leading-6 text-gray-900"}," Statut ",-1)),t("div",mt,[t("div",dt,i((y=s(a).facture)==null?void 0:y.status),1)])]),t("div",rt,[e[10]||(e[10]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Description ",-1)),t("div",ct,i((v=s(a).facture)==null?void 0:v.objet),1)]),t("div",ut,[e[11]||(e[11]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Date émission ",-1)),t("div",pt,i((b=s(a).facture)==null?void 0:b.date_emission),1)]),t("div",gt,[e[12]||(e[12]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," date échéance ",-1)),t("div",xt,i((w=s(a).facture)==null?void 0:w.date_echeance),1)])])])]),t("section",ft,[t("div",_t,[e[14]||(e[14]=t("h3",{class:"text-base font-semibold leading-7 text-gray-900"},"Paiements",-1)),t("button",{type:"button",onClick:e[0]||(e[0]=l=>r(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none text-xs disabled:opacity-50 bg-[#1F2923] text-slate-50 shadow hover:bg-[#2f3a34] px-4 py-3 self-start"}," Nouveau paiement ")]),t("div",yt,[m(S,{rowClick:()=>("navigateTo"in n?n.navigateTo:s(W))("/factures/2"),columns:P,data:(h=s(a).facture)==null?void 0:h.payments},null,8,["rowClick","data"])])]),m(N,{isActive:s(d),onClose:()=>r(!1)},{default:k(()=>[t("div",vt,[e[15]||(e[15]=t("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[t("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Nouveau paiement ")],-1)),t("form",{class:"space-y-8",onSubmit:e[4]||(e[4]=H(l=>V(s(a).facture),["prevent"]))},[t("div",bt,[m(u,{required:"",label:"Statut",modelValue:s(o).newPayment.status,"onUpdate:modelValue":e[1]||(e[1]=l=>s(o).newPayment.status=l),options:M,placeholder:"Statut",name:"title"},null,8,["modelValue"]),m(u,{required:"",modelValue:s(o).newPayment.mode_paiement,"onUpdate:modelValue":e[2]||(e[2]=l=>s(o).newPayment.mode_paiement=l),options:C,label:"Mode de paiement",placeholder:"mode paiement",name:"title"},null,8,["modelValue"])]),t("div",wt,[m(U,{required:"",modelValue:s(o).newPayment.amount,"onUpdate:modelValue":e[3]||(e[3]=l=>s(o).newPayment.amount=l),min:"1",type:"number",label:"Montant",placeholder:"Montant",name:"title"},null,8,["modelValue"])]),m(F,{label:"Créer",isLoading:s(o).isLoading},null,8,["isLoading"])],32)])]),_:1},8,["isActive","onClose"])])]}),_:1})])}}});export{qt as default};
