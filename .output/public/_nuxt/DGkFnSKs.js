import{_ as I}from"./BpT1OtIv.js";import{g as $,c as f,o as v,b as n,w as g,a as l,t as b,q as k,z as P,r as _,m as z,k as E,v as R,A as G,p as d,F as H,y as J}from"./Dk8a2MBr.js";import{_ as C}from"./Cmq_Tr4O.js";import{_ as L}from"./DkGuXvtt.js";import{_ as q}from"./uvZDGVoc.js";import{_ as S}from"./Bjq3QsJw.js";import{_ as K}from"./BtE6BWQ2.js";import{u as O}from"./WleQEywQ.js";import"./DvG1-CeL.js";const Q={class:"flex items-center gap-1 text-[12px]"},W=["onClick"],X=$({__name:"TableComponent",props:{data:{},setUpdate:{type:Function},loading:{type:Boolean}},setup(w){const t=w,e=[{label:"user.colunm.td1",key:"id"},{label:"user.colunm.td2",key:"name"},{label:"user.colunm.td3",key:"last_name"},{label:"user.colunm.td4",key:"role"},{label:"user.colunm.td5",key:"phone"},{label:"user.colunm.td6",key:"email"},{label:"user.colunm.td7",key:"action"}];return(a,r)=>{const p=I;return v(),f("div",null,[n(p,{loading:a.loading,columns:e,data:t.data},{action:g(({item:m})=>[l("div",Q,[l("button",{type:"button",onClick:c=>t.setUpdate(m),class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},r[0]||(r[0]=[l("i",{class:"uil uil-pen"},null,-1)]),8,W)])]),_:1},8,["loading","data"])])}}}),Y={class:"grid w-full max-w-300 gap-4"},Z={class:"flex flex-col space-y-1.5 text-center sm:text-left"},x={id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"},ee={class:"mb-2 flex gap-1.5"},le={class:"mb-2"},ae={class:"mb-2 flex gap-1.5"},oe={class:"mb-2 flex gap-1.5"},se={class:"w-full mt-3"},te=$({__name:"AddComponent",props:{isActive:{type:Boolean},setActive:{type:Function},newUser:{},createUser:{type:Function},isLoading:{type:Boolean}},setup(w){const t=[{label:"admin",value:"admin"},{label:"super admin",value:"super_admin"},{label:"modérateur",value:"modérateur"}];return(e,a)=>{const r=C,p=L,m=q,c=S;return v(),f("div",null,[n(c,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:g(()=>[l("div",Y,[l("div",Z,[l("h2",x,b(e.$t("user.form.title_new")),1)]),l("form",{class:"",onSubmit:a[6]||(a[6]=k(s=>e.createUser(),["prevent"]))},[l("div",ee,[n(r,{required:"",modelValue:e.newUser.name,"onUpdate:modelValue":a[0]||(a[0]=s=>e.newUser.name=s),label:e.$t("user.form.label1"),placeholder:e.$t("user.form.label1")},null,8,["modelValue","label","placeholder"]),n(r,{required:"",modelValue:e.newUser.last_name,"onUpdate:modelValue":a[1]||(a[1]=s=>e.newUser.last_name=s),label:e.$t("user.form.label2"),placeholder:e.$t("user.form.label2")},null,8,["modelValue","label","placeholder"])]),l("div",le,[n(p,{required:"",modelValue:e.newUser.role,"onUpdate:modelValue":a[2]||(a[2]=s=>e.newUser.role=s),options:t,label:e.$t("user.form.label3"),placeholder:e.$t("user.form.label3"),name:"title"},null,8,["modelValue","label","placeholder"])]),l("div",ae,[n(r,{required:"",modelValue:e.newUser.phone,"onUpdate:modelValue":a[3]||(a[3]=s=>e.newUser.phone=s),name:"annee",min:"2025",max:"2099",step:"1",label:e.$t("user.form.label4"),placeholder:e.$t("user.form.label4")},null,8,["modelValue","label","placeholder"]),n(r,{required:"",modelValue:e.newUser.email,"onUpdate:modelValue":a[4]||(a[4]=s=>e.newUser.email=s),label:e.$t("user.form.label5"),placeholder:e.$t("user.form.label5")},null,8,["modelValue","label","placeholder"])]),l("div",oe,[n(r,{required:"",modelValue:e.newUser.password,"onUpdate:modelValue":a[5]||(a[5]=s=>e.newUser.password=s),type:"password",name:"annee",min:"2025",max:"2099",step:"1",label:e.$t("user.form.label6"),placeholder:e.$t("user.form.label6")},null,8,["modelValue","label","placeholder"])]),l("div",se,[n(m,{label:e.$t("user.form.button_new"),isLoading:e.isLoading},null,8,["label","isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),ne={class:"grid w-full max-w-300 gap-4"},re={class:"flex flex-col space-y-1.5 text-center sm:text-left"},de={id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"},ue={class:"mb-2 flex gap-1.5"},ie={class:"mb-2"},pe={class:"mb-2 flex gap-1.5"},me={class:"mb-2 flex gap-1.5"},ce={class:"w-full mt-3"},be=$({__name:"UpdateComponent",props:{isActive:{type:Boolean},setActive:{type:Function},update:{},updateUser:{type:Function},isLoading:{type:Boolean}},setup(w){const t=[{label:"admin",value:"admin"},{label:"super admin",value:"super_admin"},{label:"modérateur",value:"modérateur"}];return(e,a)=>{const r=C,p=L,m=q,c=S;return v(),f("div",null,[n(c,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:g(()=>[l("div",ne,[l("div",re,[l("h2",de,b(e.$t("user.form.title_update")),1)]),l("form",{class:"",onSubmit:a[6]||(a[6]=k(s=>e.updateUser(),["prevent"]))},[l("div",ue,[n(r,{required:"",modelValue:e.update.name,"onUpdate:modelValue":a[0]||(a[0]=s=>e.update.name=s),label:e.$t("user.form.label1"),placeholder:e.$t("user.form.label1")},null,8,["modelValue","label","placeholder"]),n(r,{required:"",modelValue:e.update.last_name,"onUpdate:modelValue":a[1]||(a[1]=s=>e.update.last_name=s),label:e.$t("user.form.label2"),placeholder:e.$t("user.form.label2")},null,8,["modelValue","label","placeholder"])]),l("div",ie,[n(p,{required:"",modelValue:e.update.role,"onUpdate:modelValue":a[2]||(a[2]=s=>e.update.role=s),options:t,label:e.$t("user.form.label3"),placeholder:e.$t("user.form.label3"),name:"title"},null,8,["modelValue","label","placeholder"])]),l("div",pe,[n(r,{required:"",modelValue:e.update.phone,"onUpdate:modelValue":a[3]||(a[3]=s=>e.update.phone=s),name:"annee",min:"2025",max:"2099",step:"1",label:e.$t("user.form.label4"),placeholder:e.$t("user.form.label4")},null,8,["modelValue","label","placeholder"]),n(r,{required:"",modelValue:e.update.email,"onUpdate:modelValue":a[4]||(a[4]=s=>e.update.email=s),label:e.$t("user.form.label5"),placeholder:e.$t("user.form.label5")},null,8,["modelValue","label","placeholder"])]),l("div",me,[n(r,{modelValue:e.update.password,"onUpdate:modelValue":a[5]||(a[5]=s=>e.update.password=s),type:"password",name:"annee",min:"2025",max:"2099",step:"1",label:e.$t("user.form.label6"),placeholder:e.$t("user.form.label6")},null,8,["modelValue","label","placeholder"])]),l("div",ce,[n(m,{label:e.$t("user.form.button_update"),isLoading:e.isLoading},null,8,["label","isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),fe={class:"w-full"},ve={class:"w-full p-2"},we={class:"w-full"},Ue={class:"w-full flex items-center justify-between mb-10"},$e={class:"text-sm font-semibold uppercase text-neutral-500"},ge={class:"w-auto"},_e={class:"w-full flex items-center justify-between mb-3"},he={class:"w-auto gap-2 flex items-center justify-between"},ye={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},Ve={class:"w-auto px-1 block border-r border-gray-300"},Ae={class:"w-auto flex items-center justify-center h-full"},ke=["value"],Ce={class:"w-full p-2"},Ne=$({__name:"index",setup(w){const t=O(),e=P({search:"",status:"",limit:"1"}),a=_(!1),r=_(!1),p=_(!1),m=o=>{a.value=o},c=o=>{r.value=o},s=o=>{t.updateUser.last_name=o==null?void 0:o.last_name,t.updateUser.email=o==null?void 0:o.email,t.updateUser.id=o==null?void 0:o.id,t.updateUser.name=o==null?void 0:o.name,t.updateUser.phone=o==null?void 0:o.phone,t.updateUser.role=o==null?void 0:o.role,c(!0)},F=async()=>{await t.create(),await U()},B=async()=>{await t.update(),await U()},U=async(o={})=>{const u=new URLSearchParams({search:e.search||"",page:e.limit||"",status:o.status||""});await t.allByFilter(u),p.value=!1};return z(e,o=>{let u=setTimeout(async()=>{U(o),clearTimeout(u)},400)},{deep:!0}),E(()=>{U()}),(o,u)=>{const j=X,M=te,T=be,D=K;return v(),f("div",null,[n(D,null,{default:g(()=>{var h,y,V,A;return[l("div",fe,[l("div",ve,[l("div",we,[l("div",Ue,[l("h5",$e,b(o.$t("user.title")),1),l("div",ge,[l("button",{onClick:u[0]||(u[0]=i=>m(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors text-xs disabled:opacity-50 bg-primary text-slate-50 shadow px-4 py-3 self-start"},b(o.$t("user.button")),1)])]),l("div",_e,[u[2]||(u[2]=l("div",{class:"w-auto"},null,-1)),l("div",he,[l("div",ye,[l("div",Ve,b(o.$t("filter_page")),1),l("div",Ae,[R(l("select",{"onUpdate:modelValue":u[1]||(u[1]=i=>d(e).limit=i),class:"w-full h-full bg-transparent border-none outline-none"},[(v(!0),f(H,null,J((y=(h=d(t))==null?void 0:h.users)==null?void 0:y.page,(i,N)=>(v(),f("option",{key:N,value:i==null?void 0:i.label},b(i==null?void 0:i.label),9,ke))),128))],512),[[G,d(e).limit]])])])])])]),l("div",Ce,[n(j,{loading:d(p),data:(A=(V=d(t))==null?void 0:V.users)==null?void 0:A.data,setUpdate:s},null,8,["loading","data"])]),n(M,{"new-user":d(t).newUser,"create-user":F,"set-active":m,"is-active":d(a),"is-loading":d(t).isLoading},null,8,["new-user","is-active","is-loading"]),n(T,{update:d(t).updateUser,"update-user":B,"set-active":c,"is-active":d(r),"is-loading":d(t).isLoading},null,8,["update","is-active","is-loading"])])])]}),_:1})])}}});export{Ne as default};
