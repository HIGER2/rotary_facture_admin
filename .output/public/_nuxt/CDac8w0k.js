import{_ as j}from"./C6sw0Z7o.js";import{f as V,c as v,o as q,b as s,w as y,a as l,t as f,m as F,z as E,r as R,k as D,D as I,p as C,v as z,l as u,E as G,F as H,q as J}from"./Dl95394X.js";import{_ as L}from"./f_otVXdK.js";import{_ as B}from"./vv7dIMgm.js";import{_ as S,u as K}from"./CEn9otYi.js";import{_ as N}from"./BwRCRwHC.js";import{_ as x}from"./D0yU8SXm.js";import{_ as O}from"./CQMIVY60.js";const Q={class:"flex items-center gap-1 text-[12px]"},W=["onClick"],X=V({__name:"TableComponent",props:{data:{},setUpdate:{type:Function},loading:{type:Boolean}},setup(_){const a=_,r=[{label:"rubrique.colunm.code",key:"code"},{label:"rubrique.colunm.libele",key:"libele"},{label:"rubrique.colunm.status",key:"status"},{label:"rubrique.colunm.price",key:"price"},{label:"rubrique.colunm.priority",key:"priority"},{label:"rubrique.colunm.action",key:"action"}],e=t=>t.priority=="low"?"faible":t.priority=="medium"?"moyenne":t.priority=="middle"?"normale":t.priority=="hight"&&"eleve";return(t,n)=>{const p=j;return q(),v("div",null,[s(p,{loading:t.loading,columns:r,data:a.data},{action:y(({item:b})=>[l("div",Q,[l("button",{type:"button",onClick:m=>a.setUpdate(b),class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},n[0]||(n[0]=[l("i",{class:"uil uil-pen"},null,-1)]),8,W)])]),priority:y(({item:b})=>[l("span",null,f(e(b)),1)]),_:1},8,["loading","data"])])}}}),Y={class:"grid mt-4 w-full max-w-lg gap-4"},Z={class:"flex flex-col space-y-1.5 text-center sm:text-left"},ee={id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"},le={class:"mb-4 flex gap-1.5"},te={class:""},oe={class:"space-y-4 mb-4"},ae={class:""},ie={class:"w-full mt-4"},se=V({__name:"AddRubriqueComponent",props:{isActive:{type:Boolean},setActive:{type:Function},newRubrique:{},createRubrique:{type:Function},isLoading:{type:Boolean}},setup(_){const a=[{label:"actif",status:"actif"},{label:"inactif",status:"inactif"}],r=[{label:"Eleve",value:"high"},{label:"Normal",value:"medium"},{label:"Faible",value:"low"}];return(e,t)=>{const n=L,p=B,b=S,m=N,g=x;return q(),v("div",null,[s(g,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:y(()=>[l("div",Y,[l("div",Z,[l("h2",ee,f(e.$t("rubrique.form.title_new")),1)]),l("form",{class:"",onSubmit:t[5]||(t[5]=F(i=>e.createRubrique(),["prevent"]))},[l("div",le,[s(n,{required:"",modelValue:e.newRubrique.libele,"onUpdate:modelValue":t[0]||(t[0]=i=>e.newRubrique.libele=i),label:e.$t("rubrique.form.label1"),placeholder:e.$t("rubrique.form.label1"),name:"title"},null,8,["modelValue","label","placeholder"]),s(p,{required:"",modelValue:e.newRubrique.status,"onUpdate:modelValue":t[1]||(t[1]=i=>e.newRubrique.status=i),options:a,label:e.$t("rubrique.form.label2"),placeholder:e.$t("rubrique.form.label2"),name:"title"},null,8,["modelValue","label","placeholder"])]),l("div",te,[s(n,{required:"",type:"number",modelValue:e.newRubrique.price,"onUpdate:modelValue":t[2]||(t[2]=i=>e.newRubrique.price=i),label:e.$t("rubrique.form.label3"),placeholder:e.$t("rubrique.form.label3"),name:"Prix"},null,8,["modelValue","label","placeholder"])]),l("div",oe,[s(p,{required:"",modelValue:e.newRubrique.priority,"onUpdate:modelValue":t[3]||(t[3]=i=>e.newRubrique.priority=i),options:r,label:e.$t("Niveau de priorite"),placeholder:e.$t("Niveau de priorite"),name:"title"},null,8,["modelValue","label","placeholder"])]),l("div",ae,[s(b,{label:e.$t("rubrique.form.label4"),placeholder:e.$t("rubrique.form.label4"),modelValue:e.newRubrique.designation,"onUpdate:modelValue":t[4]||(t[4]=i=>e.newRubrique.designation=i),rows:"3"},null,8,["label","placeholder","modelValue"])]),l("div",ie,[s(m,{label:"CrÃ©er",isLoading:e.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),re={class:"grid mt-4 w-full max-w-lg gap-4"},ne={class:"mb-4 flex gap-1.5"},ue={class:""},de={class:"space-y-4 mb-4"},pe={class:""},be={class:"w-full mt-4"},ce=V({__name:"UpdateRubriqueComponent",props:{isActive:{type:Boolean},setActive:{type:Function},update:{},updateRubrique:{type:Function},isLoading:{type:Boolean}},setup(_){const a=[{label:"actif",status:"actif"},{label:"inactif",status:"inactif"}],r=[{label:"Eleve",value:"high"},{label:"Normal",value:"medium"},{label:"Faible",value:"low"}];return(e,t)=>{const n=L,p=B,b=S,m=N,g=x;return q(),v("div",null,[s(g,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:y(()=>[l("div",re,[t[6]||(t[6]=l("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[l("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Modifier rubrique ")],-1)),l("form",{class:"",onSubmit:t[5]||(t[5]=F(i=>e.updateRubrique(),["prevent"]))},[l("div",ne,[s(n,{required:"",modelValue:e.update.libele,"onUpdate:modelValue":t[0]||(t[0]=i=>e.update.libele=i),label:e.$t("rubrique.form.label1"),placeholder:e.$t("rubrique.form.label1"),name:"title"},null,8,["modelValue","label","placeholder"]),s(p,{required:"",modelValue:e.update.status,"onUpdate:modelValue":t[1]||(t[1]=i=>e.update.status=i),options:a,label:e.$t("rubrique.form.label2"),placeholder:e.$t("rubrique.form.label2"),name:"title"},null,8,["modelValue","label","placeholder"])]),l("div",ue,[s(n,{required:"",type:"number",modelValue:e.update.price,"onUpdate:modelValue":t[2]||(t[2]=i=>e.update.price=i),label:e.$t("rubrique.form.label3"),placeholder:e.$t("rubrique.form.label3"),name:"Prix"},null,8,["modelValue","label","placeholder"])]),l("div",de,[s(p,{required:"",modelValue:e.update.priority,"onUpdate:modelValue":t[3]||(t[3]=i=>e.update.priority=i),options:r,label:e.$t("Niveau de priorite"),placeholder:e.$t("Niveau de priorite"),name:"title"},null,8,["modelValue","label","placeholder"])]),l("div",pe,[s(b,{modelValue:e.update.designation,"onUpdate:modelValue":t[4]||(t[4]=i=>e.update.designation=i),label:e.$t("rubrique.form.label4"),placeholder:e.$t("rubrique.form.label4"),rows:"3"},null,8,["modelValue","label","placeholder"])]),l("div",be,[s(m,{label:"Enregistrer",isLoading:e.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),me={class:"w-full"},fe={class:"w-full p-2"},ve={class:"w-full"},qe={class:"w-full flex items-center justify-between mb-10"},ge={class:"text-sm font-semibold uppercase text-neutral-500"},ye={class:"w-auto"},_e={class:"w-full flex items-center justify-between mb-3"},we={class:"w-auto"},he=["placeholder"],$e={class:"w-auto gap-2 flex items-center justify-between"},Ve={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},Re={class:"w-auto px-1 block border-r border-gray-300"},Ue={class:"w-auto flex items-center justify-center h-full"},Ae=["value"],ke={class:"w-full p-2"},Te=V({__name:"index",setup(_){const a=K(),r=E({search:"",status:"",limit:"1"}),e=R(!1),t=R(!1),n=R(!1),p=o=>{e.value=o},b=o=>{t.value=o},m=o=>{a.updateRubrique.status=o==null?void 0:o.status,a.updateRubrique.id=o==null?void 0:o.id,a.updateRubrique.designation=o==null?void 0:o.designation,a.updateRubrique.price=o==null?void 0:o.price,a.updateRubrique.priority=o==null?void 0:o.priority,a.updateRubrique.libele=o==null?void 0:o.libele,b(!0)},g=async()=>{await a.create(),await w()},i=async()=>{await a.update(),await w()},w=async(o={})=>{var h,$;(($=(h=a==null?void 0:a.rubriques)==null?void 0:h.data)==null?void 0:$.length)==0&&(n.value=!0);const c=new URLSearchParams({search:r.search||"",page:r.limit||"",status:o.status||""});await a.allByFilter(c),n.value=!1};return D(r,o=>{let c=setTimeout(async()=>{n.value=!0,a.rubriques.data=[],w(o),clearTimeout(c)},400)},{deep:!0}),I(()=>{w()}),(o,c)=>{const h=X,$=se,M=ce,T=O;return q(),v("div",null,[s(T,null,{default:y(()=>{var U,A,k;return[l("div",me,[l("div",fe,[l("div",ve,[l("div",qe,[l("h5",ge,f(o.$t("rubrique.title")),1),l("div",ye,[l("button",{onClick:c[0]||(c[0]=d=>p(!0)),class:"inline-flex items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none text-xs disabled:opacity-50 bg-primary text-slate-50 shadow px-4 py-3 self-start"},f(o.$t("rubrique.button")),1)])]),l("div",_e,[l("div",we,[C(l("input",{"onUpdate:modelValue":c[1]||(c[1]=d=>u(r).search=d),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:`${o.$t("placeholder_search")}...`,autocomplete:"off"},null,8,he),[[z,u(r).search]])]),l("div",$e,[l("div",Ve,[l("div",Re,f(o.$t("filter_page")),1),l("div",Ue,[C(l("select",{"onUpdate:modelValue":c[2]||(c[2]=d=>u(r).limit=d),class:"w-full h-full bg-transparent border-none outline-none"},[(q(!0),v(H,null,J((U=u(a))==null?void 0:U.rubriques.page,(d,P)=>(q(),v("option",{key:P,value:d==null?void 0:d.label},f(d==null?void 0:d.label),9,Ae))),128))],512),[[G,u(r).limit]])])])])])]),l("div",ke,[s(h,{loading:u(n),data:(k=(A=u(a))==null?void 0:A.rubriques)==null?void 0:k.data,setUpdate:m},null,8,["loading","data"])]),s($,{"new-rubrique":u(a).newRubrique,"create-rubrique":g,"set-active":p,"is-active":u(e),"is-loading":u(a).isLoading},null,8,["new-rubrique","is-active","is-loading"]),s(M,{update:u(a).updateRubrique,"update-rubrique":i,"set-active":b,"is-active":u(t),"is-loading":u(a).isLoading},null,8,["update","is-active","is-loading"])])])]}),_:1})])}}});export{Te as default};
