import{_ as q}from"./C8fjkjJZ.js";import{g,c as f,o as b,b as l,w as x,a as t,q as V,A as j,r as w,m as M,k as T,v as N,B as P,p as r,F as I,y as R,t as z}from"./D1yP2C89.js";import{_ as U}from"./DhcQ3kKc.js";import{_ as A}from"./CfrQAaTd.js";import{_ as h}from"./Bl_LdI73.js";import{_ as $}from"./L2xWwaSf.js";import{_ as G}from"./DMqi6gYu.js";import{u as H}from"./UXAvchNV.js";import"./CW1WITLF.js";const J={class:"flex items-center gap-1 text-[12px]"},K=["onClick"],O=g({__name:"TableComponent",props:{data:{},setUpdate:{type:Function},loading:{type:Boolean}},setup(_){const o=_,e=[{label:"#",key:"id"},{label:"Année",key:"annee"},{label:"Début",key:"begin_date"},{label:"Fin",key:"end_date"},{label:"Statut",key:"status"},{label:"action",key:"action"}];return(n,d)=>{const c=q;return b(),f("div",null,[l(c,{loading:n.loading,columns:e,data:o.data},{action:x(({item:p})=>[t("div",J,[t("button",{type:"button",onClick:m=>o.setUpdate(p),class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},d[0]||(d[0]=[t("i",{class:"uil uil-pen"},null,-1)]),8,K)])]),_:1},8,["loading","data"])])}}}),Q={class:"grid mt-4 w-full max-w-lg gap-4"},W={class:"mb-4 flex gap-1.5"},X={class:"mb-4 flex gap-1.5"},Y={class:"w-full mt-4"},Z=g({__name:"AddComponent",props:{isActive:{type:Boolean},setActive:{type:Function},newExercice:{},createExercice:{type:Function},isLoading:{type:Boolean}},setup(_){const o=[{label:"en cours",value:"en_cours"},{label:"inactif",value:"inactif"}];return(e,n)=>{const d=U,c=A,p=h,m=$;return b(),f("div",null,[l(m,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:x(()=>[t("div",Q,[n[5]||(n[5]=t("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[t("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Nouveau exercice ")],-1)),t("form",{class:"",onSubmit:n[4]||(n[4]=V(s=>e.createExercice(),["prevent"]))},[t("div",W,[l(d,{required:"",modelValue:e.newExercice.annee,"onUpdate:modelValue":n[0]||(n[0]=s=>e.newExercice.annee=s),type:"number",name:"annee",min:"2025",max:"2099",step:"1",label:"Année",placeholder:"Année"},null,8,["modelValue"]),l(c,{required:"",modelValue:e.newExercice.status,"onUpdate:modelValue":n[1]||(n[1]=s=>e.newExercice.status=s),options:o,label:"Statut",placeholder:"Statut",name:"title"},null,8,["modelValue"])]),t("div",X,[l(d,{required:"",modelValue:e.newExercice.begin_date,"onUpdate:modelValue":n[2]||(n[2]=s=>e.newExercice.begin_date=s),type:"date",label:"Date début",placeholder:"Date début",name:"Date début"},null,8,["modelValue"]),l(d,{required:"",modelValue:e.newExercice.end_date,"onUpdate:modelValue":n[3]||(n[3]=s=>e.newExercice.end_date=s),type:"date",label:"Date fin",placeholder:"Date fin",name:"Date fin"},null,8,["modelValue"])]),t("div",Y,[l(p,{label:"Créer",isLoading:e.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),ee={class:"grid mt-4 w-full max-w-lg gap-4"},te={class:"mb-4 flex gap-1.5"},ne={class:"mb-4 flex gap-1.5"},ae={class:"w-full mt-4"},oe=g({__name:"UpdateComponent",props:{isActive:{type:Boolean},setActive:{type:Function},update:{},updateExercice:{type:Function},isLoading:{type:Boolean}},setup(_){const o=[{label:"en cours",value:"en_cours"},{label:"inactif",value:"inactif"}];return(e,n)=>{const d=U,c=A,p=h,m=$;return b(),f("div",null,[l(m,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:x(()=>[t("div",ee,[n[5]||(n[5]=t("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[t("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Modifier exercice ")],-1)),t("form",{class:"",onSubmit:n[4]||(n[4]=V(s=>e.updateExercice(),["prevent"]))},[t("div",te,[l(d,{required:"",modelValue:e.update.annee,"onUpdate:modelValue":n[0]||(n[0]=s=>e.update.annee=s),type:"number",name:"annee",min:"2025",max:"2099",step:"1",label:"Année",placeholder:"Année"},null,8,["modelValue"]),l(c,{required:"",modelValue:e.update.status,"onUpdate:modelValue":n[1]||(n[1]=s=>e.update.status=s),options:o,label:"Statut",placeholder:"Statut",name:"title"},null,8,["modelValue"])]),t("div",ne,[l(d,{required:"",modelValue:e.update.begin_date,"onUpdate:modelValue":n[2]||(n[2]=s=>e.update.begin_date=s),type:"date",label:"Date début",placeholder:"Date début",name:"Date début"},null,8,["modelValue"]),l(d,{required:"",modelValue:e.update.end_date,"onUpdate:modelValue":n[3]||(n[3]=s=>e.update.end_date=s),type:"date",label:"Date fin",placeholder:"Date fin",name:"Date fin"},null,8,["modelValue"])]),t("div",ae,[l(p,{label:"Enregistrer",isLoading:e.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),se={class:"w-full"},le={class:"w-full p-2"},ie={class:"w-full"},de={class:"w-full flex items-center justify-between mb-10"},re={class:"w-auto"},ue={class:"w-full flex items-center justify-between mb-3"},ce={class:"w-auto gap-2 flex items-center justify-between"},pe={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},me={class:"w-auto flex items-center justify-center h-full"},fe=["value"],be={class:"w-full p-2"},Ae=g({__name:"index",setup(_){const o=H(),e=j({search:"",status:"",limit:"1"}),n=w(!1),d=w(!1),c=w(!1),p=a=>{n.value=a},m=a=>{d.value=a},s=a=>{o.updateExercice.status=a==null?void 0:a.status,o.updateExercice.id=a==null?void 0:a.id,o.updateExercice.annee=a==null?void 0:a.annee,o.updateExercice.begin_date=a==null?void 0:a.begin_date,o.updateExercice.end_date=a==null?void 0:a.end_date,m(!0)},k=async()=>{await o.create(),await v()},C=async()=>{await o.update(),await v()},v=async(a={})=>{const i=new URLSearchParams({search:e.search||"",page:e.limit||"",status:a.status||""});await o.allByFilter(i),c.value=!1};return M(e,a=>{let i=setTimeout(async()=>{v(a),clearTimeout(i)},400)},{deep:!0}),T(()=>{v()}),(a,i)=>{const D=O,S=Z,F=oe,L=G;return b(),f("div",null,[l(L,null,{default:x(()=>{var y,E;return[t("div",se,[t("div",le,[t("div",ie,[t("div",de,[i[2]||(i[2]=t("h5",{class:"text-sm font-semibold uppercase text-neutral-500"},"Exercices",-1)),t("div",re,[t("button",{onClick:i[0]||(i[0]=u=>p(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none text-xs disabled:opacity-50 bg-[#1F2923] text-slate-50 shadow hover:bg-[#2f3a34] px-4 py-3 self-start"}," Ajouter un exercice ")])]),t("div",ue,[i[4]||(i[4]=t("div",{class:"w-auto"},null,-1)),t("div",ce,[t("div",pe,[i[3]||(i[3]=t("div",{class:"w-auto px-1 block border-r border-gray-300"},"Par page",-1)),t("div",me,[N(t("select",{"onUpdate:modelValue":i[1]||(i[1]=u=>r(e).limit=u),class:"w-full h-full bg-transparent border-none outline-none"},[(b(!0),f(I,null,R((y=r(o))==null?void 0:y.exercices.page,(u,B)=>(b(),f("option",{key:B,value:u==null?void 0:u.label},z(u==null?void 0:u.label),9,fe))),128))],512),[[P,r(e).limit]])])])])])]),t("div",be,[l(D,{loading:r(c),data:(E=r(o))==null?void 0:E.exercices.data,setUpdate:s},null,8,["loading","data"])]),l(S,{"new-exercice":r(o).newExercice,"create-exercice":k,"set-active":p,"is-active":r(n),"is-loading":r(o).isLoading},null,8,["new-exercice","is-active","is-loading"]),l(F,{update:r(o).updateExercice,"update-exercice":C,"set-active":m,"is-active":r(d),"is-loading":r(o).isLoading},null,8,["update","is-active","is-loading"])])])]}),_:1})])}}});export{Ae as default};
