import{y as S,r as f,z as p,G as l}from"./DY93oi3b.js";import{u}from"./C_gOdtv4.js";const b=S("facture",()=>{async function c(a){return await u(`/facture/all?${a.toString()}`)}async function i(a){return await u("/facture/create",{method:"POST",body:a})}async function s(a){return await u("/facture/update",{method:"PUT",body:a})}async function o(a){return await u(`/facture/find/${a}`)}async function r(a){return await u(`/facture/get/${a}`)}return{all:c,create:i,findWithPaiement:o,find:r,update:s}}),O=S("FactureViewModel",()=>{const c=b(),i=f([]),s=f([]),o=f({}),r=f(!1);let a={club_id:"",rubrique_id:"",amount:"",date_echeance:"",objet:"",status:"en attente"};const y=p({...a}),d=p({...a,id:null});async function v(n){var t,m,w;const e=await c.all(n);s.value=(t=e==null?void 0:e.data)==null?void 0:t.analytic,i.value=[...(w=(m=e.data)==null?void 0:m.data)==null?void 0:w.data]}async function h(){var t;r.value=!0;let n={...y};const e=await c.create(n);e!=null&&e.error&&alert((t=e==null?void 0:e.error)==null?void 0:t.message),e!=null&&e.data&&l("Opération éffectuée",{autoClose:1e3,type:l.TYPE.SUCCESS}),r.value=!1}async function C(){var t;r.value=!0;let n={...d};const e=await c.update(n);e!=null&&e.error&&alert((t=e==null?void 0:e.error)==null?void 0:t.message),e!=null&&e.data&&l("Opération éffectuée",{autoClose:1e3,type:l.TYPE.SUCCESS}),r.value=!1}async function F(n){var t;const e=await c.findWithPaiement(n);o.value=(t=e==null?void 0:e.data)==null?void 0:t.data}async function P(n){var t;const e=await c.find(n);Object.assign(d,(t=e==null?void 0:e.data)==null?void 0:t.data)}return{all:v,factures:i,facture:o,create:h,findWithPaiement:F,newFacture:y,isLoading:r,find:P,updateFacture:d,update:C,analityc:s}});export{O as u};
