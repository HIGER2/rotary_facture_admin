import{_ as E}from"./BVupHDiT.js";import{_ as V}from"./Bsxb1mwF.js";import{g as B,A as M,r as P,m as S,k as U,c as n,b as v,w as C,o as r,a as s,v as D,B as L,p as c,F as w,y as h,t as p}from"./DZchtIta.js";import{u as N}from"./XNGDu0nr.js";import{u as R}from"./CXIz1e2M.js";import"./qvOv5KBm.js";const T={class:"w-full"},$={class:"w-auto gap-2 flex items-center justify-between my-4"},j={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},F={class:"w-auto flex items-center justify-center h-full"},q=["value"],A={class:"w-full grid grid-cols-1 md:grid-cols-4 gap-4 p-2 my-3"},z={class:"text-xs text-gray-500 font-medium"},G={class:"text-lg font-extrabold"},H={class:"w-full p-2"},Z=B({__name:"index",setup(I){const u=R(),g=N(),o=M({search:"",status:"1"}),_=P([]),m=[{label:"club",key:"name"},{label:"total facture",key:"total_facture"},{label:"montant total",key:"total_montant"},{label:"total payé",key:"total_paye"},{label:"total impayé",key:"total_impaye"},{label:"total en cours",key:"total_en_cours"}],k=async()=>{var t;let l=await g.all();_.value=[...(t=l.data)==null?void 0:t.data.map((e,f)=>({label:`${e==null?void 0:e.annee} : (du ${e==null?void 0:e.begin_date} au ${e==null?void 0:e.end_date})`,value:e==null?void 0:e.id}))]},i=async(l={})=>{const t=new URLSearchParams({search:o.search||"",status:o.status||""});await u.rapport(t)};return S(o,l=>{let t=setTimeout(async()=>{await i(l),clearTimeout(t)},400)},{deep:!0}),U(async()=>{await Promise.all([i(),k()])}),(l,t)=>{const e=E,f=V;return r(),n("div",null,[v(f,null,{default:C(({userConnected:J})=>{var x,y,b;return[s("div",T,[t[2]||(t[2]=s("div",{class:"p-2"},[s("h5",{class:"text-sm font-semibold uppercase text-neutral-500"},"Rapports")],-1)),s("div",$,[s("div",j,[t[1]||(t[1]=s("div",{class:"w-auto px-1 block border-r border-gray-300"},"Par exercice",-1)),s("div",F,[D(s("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>c(o).status=a),class:"w-full h-full bg-transparent border-none outline-none"},[(r(!0),n(w,null,h(c(_),(a,d)=>(r(),n("option",{key:d,value:a==null?void 0:a.value},p(a==null?void 0:a.label),9,q))),128))],512),[[L,c(o).status]])])])]),s("div",A,[(r(!0),n(w,null,h((y=(x=c(u))==null?void 0:x.rapports)==null?void 0:y.analityc,(a,d)=>(r(),n("div",{key:d,class:"box"},[s("span",z,p(a==null?void 0:a.label),1),s("h2",G,p(a==null?void 0:a.value),1)]))),128))]),s("div",H,[v(e,{columns:m,data:(b=c(u))==null?void 0:b.rapports.club},null,8,["data"])])])]}),_:1})])}}});export{Z as default};
