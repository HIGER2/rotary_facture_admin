import{_ as U}from"./C4sl2I8Z.js";import{_ as E}from"./Bheuay_z.js";import{u as M,_ as S}from"./BR_jDMVO.js";import{_ as $}from"./Dr1kNX1N.js";import{_ as C}from"./WXWcqCSl.js";import{f as R,s as j,r as d,i as B,c as L,b as u,w as N,h as k,o as A,a as o,m as T,l as a}from"./CvSWjzOv.js";import{u as z}from"./Ddq5CtfE.js";import{u as I}from"./CLflhpgV.js";import{u as b}from"./Dm-IPjIZ.js";const O={class:"w-full"},P={class:"w-[600px] m-auto"},D={class:"w-full p-2"},G={class:"w-full bg-white p-4 border overflow-hidden border-gray-200 rounded-lg"},H={class:"space-y-2 mb-4 flex gap-2"},J={class:"space-y-2 mb-4 flex gap-1.5"},K={class:"space-y-2 mb-4"},Q={class:"space-y-2 mb-4"},W={class:"mt-4 flex w-full flex-col justify-start gap-1"},X={class:"flex justify-between mt-4"},Y={class:"inline-flex"},de=R({__name:"update",setup(Z){const t=b(),{isLoading:f}=j(b()),m=z(),_=M(),x=I(),i=d([]),c=d([]),p=d([]),v=[{label:"en cours",value:"en_cours"},{label:"payée",value:"payée"},{label:"annulée",value:"annulée"},{label:"partiellement payé",value:"partiellement_payé"},{label:"arriérée",value:"arriérée"}],w=async()=>{var e;let s=await m.all();i.value=[...(e=s.data)==null?void 0:e.data.map((l,r)=>({label:l==null?void 0:l.name,value:l==null?void 0:l.id}))]},V=async()=>{var e;let s=k();await t.find((e=s==null?void 0:s.query)==null?void 0:e.ref)},y=async()=>{var e;let s=await _.all();p.value=[...(e=s.data)==null?void 0:e.data.map((l,r)=>({label:l==null?void 0:l.libele,value:l==null?void 0:l.id}))]},F=async()=>{var e;let s=await x.all();c.value=[...(e=s.data)==null?void 0:e.data.map((l,r)=>({label:`${l==null?void 0:l.annee} : (du ${l==null?void 0:l.begin_date} au ${l==null?void 0:l.end_date})`,value:l==null?void 0:l.id}))]};return B(async()=>{await Promise.all([V(),w(),y(),F()])}),(s,e)=>{const l=U,r=E,q=S,g=$,h=C;return A(),L("div",null,[u(h,null,{default:N(()=>[o("div",O,[o("div",P,[e[9]||(e[9]=o("div",{class:"w-full p-2 mb-3"},[o("h5",{class:"text-sm font-semibold uppercase text-neutral-500"},"Modifier la facture")],-1)),o("div",D,[o("form",{class:"max-w-3xl",onSubmit:e[6]||(e[6]=T(n=>a(t).update(),["prevent"]))},[o("div",G,[o("div",H,[u(l,{modelValue:a(t).updateFacture.exercice_id,"onUpdate:modelValue":e[0]||(e[0]=n=>a(t).updateFacture.exercice_id=n),options:a(c),label:"Exercice",required:"",placeholder:"Selectionner un Exercice",name:"Exercice"},null,8,["modelValue","options"]),u(l,{modelValue:a(t).updateFacture.club_id,"onUpdate:modelValue":e[1]||(e[1]=n=>a(t).updateFacture.club_id=n),options:a(i),label:"Club",required:"",placeholder:"Selectionner un club",name:"title"},null,8,["modelValue","options"])]),o("div",J,[u(l,{required:"",modelValue:a(t).updateFacture.rubrique_id,"onUpdate:modelValue":e[2]||(e[2]=n=>a(t).updateFacture.rubrique_id=n),options:a(p),label:"Rubrique",placeholder:"Selectionner une rubrique",name:"title"},null,8,["modelValue","options"]),u(l,{required:"",modelValue:a(t).updateFacture.status,"onUpdate:modelValue":e[3]||(e[3]=n=>a(t).updateFacture.status=n),options:v,label:"Statut",placeholder:"Statut",name:"title"},null,8,["modelValue"])]),o("div",K,[u(r,{required:"",modelValue:a(t).updateFacture.amount,"onUpdate:modelValue":e[4]||(e[4]=n=>a(t).updateFacture.amount=n),type:"number",label:"Montant",placeholder:"Montant",name:"title"},null,8,["modelValue"])]),o("div",Q,[o("div",W,[e[7]||(e[7]=o("label",{class:"text-[13px] font-[500] text-zinc-700"},null,-1)),u(q,{required:"",modelValue:a(t).updateFacture.objet,"onUpdate:modelValue":e[5]||(e[5]=n=>a(t).updateFacture.objet=n),placeholder:"Objet",rows:"4"},null,8,["modelValue"])])])]),o("div",X,[e[8]||(e[8]=o("button",{class:"cursor-pointer inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none disabled:opacity-50 text-slate-900 underline-offset-4 hover:underline h-11 px-4 py-2",type:"button"}," Annuler ",-1)),o("div",Y,[u(g,{label:"Enregistrer",isLoading:a(f)},null,8,["isLoading"])])])],32)])])])]),_:1})])}}});export{de as default};
