import{r as s,c as v,o as g,a as y,J as h}from"./c6bQlRZc.js";const _={class:"w-full h-full"},b=["accept"],B={__name:"fileFile",props:{firstName:String,lastName:String,multiple:{default:!1,type:Boolean},accept:{default:null,type:String}},emits:["update:file","update:preview","loadFiles"],setup(n,{emit:p}){const f=n,u=p,c=s(),r=s(!1),o=s([]),e=s([]),d=()=>{c.value.click()},m=t=>{let l;if(t.type==="drop"?l=t.dataTransfer.files:t.type==="change"&&(l=t.target.files),l){for(const a of l)if(!e.value.some(i=>i===a))if(e.value.length<20){e.value.push(a);let i=URL.createObjectURL(a);o.value.push(i)}else alert("attention vous pouvez selectionner que 3 images")}u("loadFiles",{blob:o.value,file:e.value}),console.log(e.value[0]),u("update:file",f.multiple?e.value:e.value[0]),r.value=!1,o.value=[],e.value=[]};return(t,l)=>(g(),v("div",_,[y("input",{onChange:l[0]||(l[0]=a=>m(a)),ref_key:"fileinput",ref:c,accept:n.accept??"*",tabindex:"-1",type:"file",style:{display:"none"},multiple:""},null,40,b),h(t.$slots,"default",{onOpen:d})]))}};export{B as _};
