import{_ as j}from"./BH3iKA9C.js";import{f as x,c as b,o as _,b as s,w,a as t,t as f,m as E,z as M,r as y,k as T,i as N,p as I,E as P,l as r,F as z,q as R}from"./BiSsR77i.js";import{_ as V}from"./l_-JT2Yx.js";import{_ as U}from"./C6W1KtVq.js";import{_ as A}from"./DIxktKBR.js";import{_ as k}from"./DdtVXqj0.js";import{_ as G}from"./B_EG6IiI.js";import{u as H}from"./DkGhqrS1.js";const J={class:"flex items-center gap-1 text-[12px]"},K=["onClick"],O=x({__name:"TableComponent",props:{data:{},setUpdate:{type:Function},loading:{type:Boolean}},setup(v){const o=v,e=[{label:"#",key:"id"},{label:"exercice.colunm.td1",key:"annee"},{label:"exercice.colunm.td2",key:"begin_date"},{label:"exercice.colunm.td3",key:"end_date"},{label:"exercice.colunm.td4",key:"status"},{label:"exercice.colunm.td5",key:"action"}];return(a,i)=>{const u=j;return _(),b("div",null,[s(u,{loading:a.loading,columns:e,data:o.data},{action:w(({item:p})=>[t("div",J,[t("button",{type:"button",onClick:m=>o.setUpdate(p),class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},i[0]||(i[0]=[t("i",{class:"uil uil-pen"},null,-1)]),8,K)])]),_:1},8,["loading","data"])])}}}),Q={class:"grid mt-4 w-full max-w-lg gap-4"},W={class:"flex flex-col space-y-1.5 text-center sm:text-left"},X={id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"},Y={class:"mb-4 flex gap-1.5"},Z={class:"mb-4 flex gap-1.5"},ee={class:"w-full mt-4"},te=x({__name:"AddComponent",props:{isActive:{type:Boolean},setActive:{type:Function},newExercice:{},createExercice:{type:Function},isLoading:{type:Boolean}},setup(v){const o=[{label:"en cours",value:"en_cours"},{label:"inactif",value:"inactif"}];return(e,a)=>{const i=V,u=U,p=A,m=k;return _(),b("div",null,[s(m,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:w(()=>[t("div",Q,[t("div",W,[t("h2",X,f(e.$t("exercice.form.title_new")),1)]),t("form",{class:"",onSubmit:a[4]||(a[4]=E(n=>e.createExercice(),["prevent"]))},[t("div",Y,[s(i,{required:"",modelValue:e.newExercice.annee,"onUpdate:modelValue":a[0]||(a[0]=n=>e.newExercice.annee=n),type:"number",name:"annee",min:"2025",max:"2099",step:"1",label:e.$t("exercice.form.label1"),placeholder:e.$t("exercice.form.label1")},null,8,["modelValue","label","placeholder"]),s(u,{required:"",modelValue:e.newExercice.status,"onUpdate:modelValue":a[1]||(a[1]=n=>e.newExercice.status=n),options:o,label:e.$t("exercice.form.label2"),placeholder:e.$t("exercice.form.label2"),name:"title"},null,8,["modelValue","label","placeholder"])]),t("div",Z,[s(i,{required:"",modelValue:e.newExercice.begin_date,"onUpdate:modelValue":a[2]||(a[2]=n=>e.newExercice.begin_date=n),type:"date",label:e.$t("exercice.form.label3"),placeholder:e.$t("exercice.form.label3"),name:"Date début"},null,8,["modelValue","label","placeholder"]),s(i,{required:"",modelValue:e.newExercice.end_date,"onUpdate:modelValue":a[3]||(a[3]=n=>e.newExercice.end_date=n),type:"date",label:e.$t("exercice.form.label4"),placeholder:e.$t("exercice.form.label4"),name:"Date fin"},null,8,["modelValue","label","placeholder"])]),t("div",ee,[s(p,{label:e.$t("exercice.form.button_new"),isLoading:e.isLoading},null,8,["label","isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),le={class:"grid mt-4 w-full max-w-lg gap-4"},ae={class:"flex flex-col space-y-1.5 text-center sm:text-left"},oe={id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"},ne={class:"mb-4 flex gap-1.5"},se={class:"mb-4 flex gap-1.5"},ie={class:"w-full mt-4"},re=x({__name:"UpdateComponent",props:{isActive:{type:Boolean},setActive:{type:Function},update:{},updateExercice:{type:Function},isLoading:{type:Boolean}},setup(v){const o=[{label:"en cours",value:"en_cours"},{label:"inactif",value:"inactif"}];return(e,a)=>{const i=V,u=U,p=A,m=k;return _(),b("div",null,[s(m,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:w(()=>[t("div",le,[t("div",ae,[t("h2",oe,f(e.$t("exercice.form.title_update")),1)]),t("form",{class:"",onSubmit:a[4]||(a[4]=E(n=>e.updateExercice(),["prevent"]))},[t("div",ne,[s(i,{required:"",modelValue:e.update.annee,"onUpdate:modelValue":a[0]||(a[0]=n=>e.update.annee=n),type:"number",name:"annee",min:"2025",max:"2099",step:"1",label:e.$t("exercice.form.label1"),placeholder:e.$t("exercice.form.label1")},null,8,["modelValue","label","placeholder"]),s(u,{required:"",modelValue:e.update.status,"onUpdate:modelValue":a[1]||(a[1]=n=>e.update.status=n),options:o,label:e.$t("exercice.form.label2    "),placeholder:e.$t("exercice.form.label2  "),name:"title"},null,8,["modelValue","label","placeholder"])]),t("div",se,[s(i,{required:"",modelValue:e.update.begin_date,"onUpdate:modelValue":a[2]||(a[2]=n=>e.update.begin_date=n),type:"date",label:e.$t("exercice.form.label3"),placeholder:e.$t("exercice.form.label3"),name:"Date début"},null,8,["modelValue","label","placeholder"]),s(i,{required:"",modelValue:e.update.end_date,"onUpdate:modelValue":a[3]||(a[3]=n=>e.update.end_date=n),type:"date",label:e.$t("exercice.form.label4"),placeholder:e.$t("exercice.form.label4"),name:"Date fin"},null,8,["modelValue","label","placeholder"])]),t("div",ie,[s(p,{label:"Enregistrer",isLoading:e.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),ce={class:"w-full"},de={class:"w-full p-2"},ue={class:"w-full"},pe={class:"w-full flex items-center justify-between mb-10"},me={class:"text-sm font-semibold uppercase text-neutral-500"},fe={class:"w-auto"},be={class:"w-full flex items-center justify-between mb-3"},_e={class:"w-auto gap-2 flex items-center justify-between"},ve={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},ge={class:"w-auto px-1 block border-r border-gray-300"},xe={class:"w-auto flex items-center justify-center h-full"},we=["value"],ye={class:"w-full p-2"},Le=x({__name:"index",setup(v){const o=H(),e=M({search:"",status:"",limit:"1"}),a=y(!1),i=y(!1),u=y(!1),p=l=>{a.value=l},m=l=>{i.value=l},n=l=>{o.updateExercice.status=l==null?void 0:l.status,o.updateExercice.id=l==null?void 0:l.id,o.updateExercice.annee=l==null?void 0:l.annee,o.updateExercice.begin_date=l==null?void 0:l.begin_date,o.updateExercice.end_date=l==null?void 0:l.end_date,m(!0)},C=async()=>{await o.create(),await g()},L=async()=>{await o.update(),await g()},g=async(l={})=>{const c=new URLSearchParams({search:e.search||"",page:e.limit||"",status:l.status||""});await o.allByFilter(c),u.value=!1};return T(e,l=>{let c=setTimeout(async()=>{g(l),clearTimeout(c)},400)},{deep:!0}),N(()=>{g()}),(l,c)=>{const F=O,B=te,S=re,q=G;return _(),b("div",null,[s(q,null,{default:w(()=>{var $,h;return[t("div",ce,[t("div",de,[t("div",ue,[t("div",pe,[t("h5",me,f(l.$t("exercice.title")),1),t("div",fe,[t("button",{onClick:c[0]||(c[0]=d=>p(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none text-xs disabled:opacity-50 bg-[#1F2923] text-slate-50 shadow hover:bg-[#2f3a34] px-4 py-3 self-start"},f(l.$t("exercice.button")),1)])]),t("div",be,[c[2]||(c[2]=t("div",{class:"w-auto"},null,-1)),t("div",_e,[t("div",ve,[t("div",ge,f(l.$t("filter_page")),1),t("div",xe,[I(t("select",{"onUpdate:modelValue":c[1]||(c[1]=d=>r(e).limit=d),class:"w-full h-full bg-transparent border-none outline-none"},[(_(!0),b(z,null,R(($=r(o))==null?void 0:$.exercices.page,(d,D)=>(_(),b("option",{key:D,value:d==null?void 0:d.label},f(d==null?void 0:d.label),9,we))),128))],512),[[P,r(e).limit]])])])])])]),t("div",ye,[s(F,{loading:r(u),data:(h=r(o))==null?void 0:h.exercices.data,setUpdate:n},null,8,["loading","data"])]),s(B,{"new-exercice":r(o).newExercice,"create-exercice":C,"set-active":p,"is-active":r(a),"is-loading":r(o).isLoading},null,8,["new-exercice","is-active","is-loading"]),s(S,{update:r(o).updateExercice,"update-exercice":L,"set-active":m,"is-active":r(i),"is-loading":r(o).isLoading},null,8,["update","is-active","is-loading"])])])]}),_:1})])}}});export{Le as default};
