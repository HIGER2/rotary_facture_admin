import{_ as P}from"./BuacfXMz.js";import{f as y,c as m,o as f,b as i,w as $,a as t,t as _,m as x,y as N,r as R,k as E,C as I,p as C,v as z,l as n,D as G,F as H,q as J}from"./CB58tbNn.js";import{_ as k}from"./vDtiO1XD.js";import{_ as F}from"./Dm2QMz6-.js";import{_ as L,u as K}from"./C1QQFuVY.js";import{_ as B}from"./DyYL-ui7.js";import{_ as S}from"./CztG9CjI.js";import{_ as O}from"./B1kx8xWt.js";const Q={class:"flex items-center gap-1 text-[12px]"},W=["onClick"],X=y({__name:"TableComponent",props:{data:{},setUpdate:{type:Function},loading:{type:Boolean}},setup(g){const a=g,e=[{label:"rubrique.colunm.code",key:"code"},{label:"rubrique.colunm.libele",key:"libele"},{label:"rubrique.colunm.status",key:"status"},{label:"rubrique.colunm.price",key:"price"},{label:"rubrique.colunm.action",key:"action"}];return(o,r)=>{const d=P;return f(),m("div",null,[i(d,{loading:o.loading,columns:e,data:a.data},{action:$(({item:c})=>[t("div",Q,[t("button",{type:"button",onClick:b=>a.setUpdate(c),class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},r[0]||(r[0]=[t("i",{class:"uil uil-pen"},null,-1)]),8,W)])]),_:1},8,["loading","data"])])}}}),Y={class:"grid mt-4 w-full max-w-lg gap-4"},Z={class:"flex flex-col space-y-1.5 text-center sm:text-left"},ee={id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"},te={class:"mb-4 flex gap-1.5"},le={class:""},oe={class:""},ae={class:"w-full mt-4"},se=y({__name:"AddRubriqueComponent",props:{isActive:{type:Boolean},setActive:{type:Function},newRubrique:{},createRubrique:{type:Function},isLoading:{type:Boolean}},setup(g){const a=[{label:"actif",status:"actif"},{label:"inactif",status:"inactif"}];return(e,o)=>{const r=k,d=F,c=L,b=B,v=S;return f(),m("div",null,[i(v,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:$(()=>[t("div",Y,[t("div",Z,[t("h2",ee,_(e.$t("rubrique.form.title_new")),1)]),t("form",{class:"",onSubmit:o[4]||(o[4]=x(s=>e.createRubrique(),["prevent"]))},[t("div",te,[i(r,{required:"",modelValue:e.newRubrique.libele,"onUpdate:modelValue":o[0]||(o[0]=s=>e.newRubrique.libele=s),label:e.$t("rubrique.form.label1"),placeholder:e.$t("rubrique.form.label1"),name:"title"},null,8,["modelValue","label","placeholder"]),i(d,{required:"",modelValue:e.newRubrique.status,"onUpdate:modelValue":o[1]||(o[1]=s=>e.newRubrique.status=s),options:a,label:e.$t("rubrique.form.label2"),placeholder:e.$t("rubrique.form.label2"),name:"title"},null,8,["modelValue","label","placeholder"])]),t("div",le,[i(r,{required:"",type:"number",modelValue:e.newRubrique.price,"onUpdate:modelValue":o[2]||(o[2]=s=>e.newRubrique.price=s),label:e.$t("rubrique.form.label3"),placeholder:e.$t("rubrique.form.label3"),name:"Prix"},null,8,["modelValue","label","placeholder"])]),t("div",oe,[i(c,{label:e.$t("rubrique.form.label4"),placeholder:e.$t("rubrique.form.label4"),modelValue:e.newRubrique.designation,"onUpdate:modelValue":o[3]||(o[3]=s=>e.newRubrique.designation=s),rows:"3"},null,8,["label","placeholder","modelValue"])]),t("div",ae,[i(b,{label:"CrÃ©er",isLoading:e.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),ie={class:"grid mt-4 w-full max-w-lg gap-4"},ne={class:"mb-4 flex gap-1.5"},re={class:""},ue={class:""},de={class:"w-full mt-4"},pe=y({__name:"UpdateRubriqueComponent",props:{isActive:{type:Boolean},setActive:{type:Function},update:{},updateRubrique:{type:Function},isLoading:{type:Boolean}},setup(g){const a=[{label:"actif",status:"actif"},{label:"inactif",status:"inactif"}];return(e,o)=>{const r=k,d=F,c=L,b=B,v=S;return f(),m("div",null,[i(v,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:$(()=>[t("div",ie,[o[5]||(o[5]=t("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[t("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Modifier rubrique ")],-1)),t("form",{class:"",onSubmit:o[4]||(o[4]=x(s=>e.updateRubrique(),["prevent"]))},[t("div",ne,[i(r,{required:"",modelValue:e.update.libele,"onUpdate:modelValue":o[0]||(o[0]=s=>e.update.libele=s),label:e.$t("rubrique.form.label1"),placeholder:e.$t("rubrique.form.label1"),name:"title"},null,8,["modelValue","label","placeholder"]),i(d,{required:"",modelValue:e.update.status,"onUpdate:modelValue":o[1]||(o[1]=s=>e.update.status=s),options:a,label:e.$t("rubrique.form.label2"),placeholder:e.$t("rubrique.form.label2"),name:"title"},null,8,["modelValue","label","placeholder"])]),t("div",re,[i(r,{required:"",type:"number",modelValue:e.update.price,"onUpdate:modelValue":o[2]||(o[2]=s=>e.update.price=s),label:e.$t("rubrique.form.label3"),placeholder:e.$t("rubrique.form.label3"),name:"Prix"},null,8,["modelValue","label","placeholder"])]),t("div",ue,[i(c,{modelValue:e.update.designation,"onUpdate:modelValue":o[3]||(o[3]=s=>e.update.designation=s),label:e.$t("rubrique.form.label4"),placeholder:e.$t("rubrique.form.label4"),rows:"3"},null,8,["modelValue","label","placeholder"])]),t("div",de,[i(b,{label:"Enregistrer",isLoading:e.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),ce={class:"w-full"},be={class:"w-full p-2"},me={class:"w-full"},fe={class:"w-full flex items-center justify-between mb-10"},ve={class:"text-sm font-semibold uppercase text-neutral-500"},_e={class:"w-auto"},ge={class:"w-full flex items-center justify-between mb-3"},qe={class:"w-auto"},we=["placeholder"],he={class:"w-auto gap-2 flex items-center justify-between"},ye={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},$e={class:"w-auto px-1 block border-r border-gray-300"},Re={class:"w-auto flex items-center justify-center h-full"},Ue=["value"],Ve={class:"w-full p-2"},Me=y({__name:"index",setup(g){const a=K(),e=N({search:"",status:"",limit:"1"}),o=R(!1),r=R(!1),d=R(!1),c=l=>{o.value=l},b=l=>{r.value=l},v=l=>{console.log(l),a.updateRubrique.status=l==null?void 0:l.status,a.updateRubrique.id=l==null?void 0:l.id,a.updateRubrique.designation=l==null?void 0:l.designation,a.updateRubrique.price=l==null?void 0:l.price,a.updateRubrique.libele=l==null?void 0:l.libele,b(!0)},s=async()=>{await a.create(),await q()},M=async()=>{await a.update(),await q()},q=async(l={})=>{var w,h;((h=(w=a==null?void 0:a.rubriques)==null?void 0:w.data)==null?void 0:h.length)==0&&(d.value=!0);const p=new URLSearchParams({search:e.search||"",page:e.limit||"",status:l.status||""});await a.allByFilter(p),d.value=!1};return E(e,l=>{let p=setTimeout(async()=>{d.value=!0,a.rubriques.data=[],q(l),clearTimeout(p)},400)},{deep:!0}),I(()=>{q()}),(l,p)=>{const w=X,h=se,T=pe,j=O;return f(),m("div",null,[i(j,null,{default:$(()=>{var U,V,A;return[t("div",ce,[t("div",be,[t("div",me,[t("div",fe,[t("h5",ve,_(l.$t("rubrique.title")),1),t("div",_e,[t("button",{onClick:p[0]||(p[0]=u=>c(!0)),class:"inline-flex items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none text-xs disabled:opacity-50 bg-primary text-slate-50 shadow px-4 py-3 self-start"},_(l.$t("rubrique.button")),1)])]),t("div",ge,[t("div",qe,[C(t("input",{"onUpdate:modelValue":p[1]||(p[1]=u=>n(e).search=u),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:`${l.$t("placeholder_search")}...`,autocomplete:"off"},null,8,we),[[z,n(e).search]])]),t("div",he,[t("div",ye,[t("div",$e,_(l.$t("filter_page")),1),t("div",Re,[C(t("select",{"onUpdate:modelValue":p[2]||(p[2]=u=>n(e).limit=u),class:"w-full h-full bg-transparent border-none outline-none"},[(f(!0),m(H,null,J((U=n(a))==null?void 0:U.rubriques.page,(u,D)=>(f(),m("option",{key:D,value:u==null?void 0:u.label},_(u==null?void 0:u.label),9,Ue))),128))],512),[[G,n(e).limit]])])])])])]),t("div",Ve,[i(w,{loading:n(d),data:(A=(V=n(a))==null?void 0:V.rubriques)==null?void 0:A.data,setUpdate:v},null,8,["loading","data"])]),i(h,{"new-rubrique":n(a).newRubrique,"create-rubrique":s,"set-active":c,"is-active":n(o),"is-loading":n(a).isLoading},null,8,["new-rubrique","is-active","is-loading"]),i(T,{update:n(a).updateRubrique,"update-rubrique":M,"set-active":b,"is-active":n(r),"is-loading":n(a).isLoading},null,8,["update","is-active","is-loading"])])])]}),_:1})])}}});export{Me as default};
