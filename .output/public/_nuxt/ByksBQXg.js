import{m as f,x as c,r as g,a3 as v,n as m}from"./CraAwoDk.js";import{u as a}from"./CMICIuFv.js";const _=""+new URL("logo.C70agCr7.svg",import.meta.url).href,C=f("auth",()=>{async function e(t){return await a("/register",{method:"POST",body:t})}async function s(t){return await a("/auth/login",{method:"POST",body:t})}async function r(){return await a("/logout")}async function o(){return await a("/me")}return{register:e,login:s,logout:r,connected:o}}),A=f("AuthViewModel",()=>{const e=C(),{setCookie:s,removeCookie:r}=v();c();const o=c(!1),t=c(),u=g({name:"",last_name:"",email:"",phone:"",password:""}),l=g({identifiant:"admin@gmail.com",password:"password"});async function w(){await e.register(u)}async function h(){var i,d;o.value=!0;const n=await e.login(l);o.value=!1,console.log(n),n.error||(s("token",(d=(i=n.data)==null?void 0:i.data)==null?void 0:d.token),m("/account/home"))}async function p(){await e.logout(),r("token"),m("/auth/login")}async function y(){const{response:n,erreur:i}=await e.connected();t.value=n}return{register:w,login:h,newUser:u,authUser:l,conntected:y,userConnected:t,logout:p,isLoading:o}});export{_,A as u};
