import{_ as C}from"./5F4GCIAb.js";import{_ as M}from"./ChxvMlXF.js";import{u as $,_ as j}from"./B7LoGRWK.js";import{_ as R}from"./BjqZ1ZD8.js";import{_ as F}from"./CoPIXp5D.js";import{_ as L}from"./Bsxb1mwF.js";import{g as N,s as k,r as i,k as B,c as T,b as s,w as _,o as A,a,q as z,p as o,d as I}from"./DZchtIta.js";import{u as O}from"./B-UU6Pv2.js";import{u as P}from"./XNGDu0nr.js";import{u as b}from"./B4Besubz.js";import"./qvOv5KBm.js";const D={class:"w-full"},G={class:"w-[600px] m-auto"},H={class:"w-full p-2"},J={class:"w-full bg-white p-4 border overflow-hidden border-gray-200 rounded-lg"},K={class:"space-y-2 mb-4 flex gap-2"},Q={class:"space-y-2 mb-4 flex gap-1.5"},W={class:"space-y-2 mb-4"},X={class:"space-y-2 mb-4"},Y={class:"mt-4 flex w-full flex-col justify-start gap-1"},Z={class:"flex justify-between mt-4"},ee={class:"inline-flex"},_e=N({__name:"create",setup(le){const{newFacture:n,create:m}=b(),{isLoading:f}=k(b()),x=O(),v=$(),w=P(),d=i([]),c=i([]),p=i([]),V=[{label:"en cours",value:"en_cours"},{label:"payée",value:"payée"},{label:"annulée",value:"annulée"},{label:"partiellement payé",value:"partiellement_payé"},{label:"arriérée",value:"arriérée"}],y=async()=>{var l;let u=await x.all();d.value=[...(l=u.data)==null?void 0:l.data.map((e,r)=>({label:e==null?void 0:e.name,value:e==null?void 0:e.id}))]},q=async()=>{var l;let u=await v.all();c.value=[...(l=u.data)==null?void 0:l.data.map((e,r)=>({label:e==null?void 0:e.libele,value:e==null?void 0:e.id}))]},g=async()=>{var l;let u=await w.all();p.value=[...(l=u.data)==null?void 0:l.data.map((e,r)=>({label:`${e==null?void 0:e.annee} : (du ${e==null?void 0:e.begin_date} au ${e==null?void 0:e.end_date})`,value:e==null?void 0:e.id}))]};return B(async()=>{await Promise.all([y(),q(),g()])}),(u,l)=>{const e=C,r=M,U=j,h=R,E=F,S=L;return A(),T("div",null,[s(S,null,{default:_(()=>[a("div",D,[a("div",G,[l[9]||(l[9]=a("div",{class:"w-full p-2 mb-3"},[a("h5",{class:"text-sm font-semibold uppercase text-neutral-500"},"Créer une facture")],-1)),a("div",H,[a("form",{class:"max-w-3xl",onSubmit:l[6]||(l[6]=z(t=>o(m)(),["prevent"]))},[a("div",J,[a("div",K,[s(e,{modelValue:o(n).exercice_id,"onUpdate:modelValue":l[0]||(l[0]=t=>o(n).exercice_id=t),options:o(p),label:"Exercice",required:"",placeholder:"Selectionner un Exercice",name:"Exercice"},null,8,["modelValue","options"]),s(e,{modelValue:o(n).club_id,"onUpdate:modelValue":l[1]||(l[1]=t=>o(n).club_id=t),options:o(d),label:"Club",required:"",placeholder:"Selectionner un club",name:"title"},null,8,["modelValue","options"])]),a("div",Q,[s(e,{required:"",modelValue:o(n).rubrique_id,"onUpdate:modelValue":l[2]||(l[2]=t=>o(n).rubrique_id=t),options:o(c),label:"Rubrique",placeholder:"Selectionner une rubrique",name:"title"},null,8,["modelValue","options"]),s(e,{required:"",modelValue:o(n).status,"onUpdate:modelValue":l[3]||(l[3]=t=>o(n).status=t),options:V,label:"Statut",placeholder:"Statut",name:"title"},null,8,["modelValue"])]),a("div",W,[s(r,{required:"",modelValue:o(n).amount,"onUpdate:modelValue":l[4]||(l[4]=t=>o(n).amount=t),type:"number",label:"Montant",placeholder:"Montant",name:"title"},null,8,["modelValue"])]),a("div",X,[a("div",Y,[l[7]||(l[7]=a("label",{class:"text-[13px] font-[500] text-zinc-700"},null,-1)),s(U,{required:"",modelValue:o(n).objet,"onUpdate:modelValue":l[5]||(l[5]=t=>o(n).objet=t),placeholder:"Objet",rows:"4"},null,8,["modelValue"])])])]),a("div",Z,[s(h,{to:"/account/factures",class:"cursor-pointer inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none disabled:opacity-50 text-slate-900 underline-offset-4 hover:underline h-11 px-4 py-2"},{default:_(()=>l[8]||(l[8]=[I(" Annuler ")])),_:1}),a("div",ee,[s(E,{label:"Enregistrer",isLoading:o(f)},null,8,["isLoading"])])])],32)])])])]),_:1})])}}});export{_e as default};
