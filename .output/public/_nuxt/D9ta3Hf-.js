import{_ as D}from"./DwcmGg3V.js";import{_ as L}from"./qNDaWLDx.js";import{_ as j}from"./BRvIwWyy.js";import{_ as A}from"./Py-0E9iT.js";import{_ as B}from"./CqhnaK7c.js";import{_ as T}from"./eySI5Y3f.js";import{_ as R}from"./BJWyDw3H.js";import{g as z,x as E,p as G,c as I,b as i,w as V,z as W,o as H,a as t,t as m,l as s,n as J,j as K}from"./BusnC6uK.js";import{u as O}from"./DKl3DBUB.js";import{u as Q}from"./Bh28nOCy.js";import"./B45GUjMg.js";const X={class:"w-full p-2"},Y={class:"w-full"},Z={class:"mt-6 bg-white p-4 border overflow-hidden border-gray-200 rounded-lg"},tt={class:"divide-y divide-gray-100"},et={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},st={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},at={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},nt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},ot={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},it={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},lt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},mt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},dt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},rt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},ct={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},ut={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},pt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},gt={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},xt={class:"px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},_t={class:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"},ft={class:"mt-4"},yt={class:"px-4 sm:px-0 flex items-center justify-between"},vt={class:"mt-6"},bt={class:"grid mt-4 w-full max-w-lg gap-4"},wt={class:"space-y-2 mb-4 flex gap-2"},ht={class:"space-y-2 mb-4"},Lt=z({__name:"[slug]",setup(Vt){const a=O(),o=Q(),d=E(!1),r=n=>{d.value=n},c=async()=>{var e;const n=W();await a.findWithPaiement((e=n==null?void 0:n.params)==null?void 0:e.slug)},k=async n=>{await o.create(n),await c()};G(()=>{c()});const P=[{label:"référence",key:"reference"},{label:"montant",key:"amount"},{label:"statut",key:"status"},{label:"mode paiement",key:"mode_paiement"},{label:"date",key:"date"}],M=[{label:"en attente",status:"en attente"},{label:"payée",status:"payée"},{label:"annulée",status:"annulée"}],C=[{label:"espèces",status:"espèces"},{label:"chèque",status:"chèque"},{label:"mobile money",status:"mobile money"},{label:"virement",status:"virement"},{label:"carte",status:"carte"}];return(n,e)=>{const S=D,U=L,u=j,F=A,$=B,N=T,q=R;return H(),I("div",null,[i(q,null,{default:V(()=>{var p,g,x,_,f,y,v,b,w,h;return[t("div",X,[t("section",Y,[e[13]||(e[13]=t("div",{class:"px-4 sm:px-0"},[t("h3",{class:"text-base font-semibold leading-7 text-gray-900"},"Général"),t("p",{class:"mt-1 max-w-2xl text-sm leading-6 text-gray-500"},"Détail de la facture")],-1)),t("div",Z,[t("dl",tt,[t("div",et,[e[5]||(e[5]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," N°Facture ",-1)),t("div",st,m((p=s(a).facture)==null?void 0:p.reference),1)]),t("div",at,[e[6]||(e[6]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Club ",-1)),t("div",nt,m((x=(g=s(a).facture)==null?void 0:g.club)==null?void 0:x.name),1)]),t("div",ot,[e[7]||(e[7]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Montant ",-1)),t("div",it,m((_=s(a).facture)==null?void 0:_.amount),1)]),t("div",lt,[e[8]||(e[8]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Reste à payer ",-1)),t("div",mt,m((f=s(a).facture)==null?void 0:f.remaining_amount),1)]),t("div",dt,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium leading-6 text-gray-900"}," Statut ",-1)),t("div",rt,[i(S,{status:(y=s(a).facture)==null?void 0:y.status},null,8,["status"])])]),t("div",ct,[e[10]||(e[10]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Description ",-1)),t("div",ut,m((v=s(a).facture)==null?void 0:v.objet),1)]),t("div",pt,[e[11]||(e[11]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," Date émission ",-1)),t("div",gt,m((b=s(a).facture)==null?void 0:b.date_emission),1)]),t("div",xt,[e[12]||(e[12]=t("div",{class:"text-sm font-medium leading-6 text-gray-900"}," date échéance ",-1)),t("div",_t,m((w=s(a).facture)==null?void 0:w.date_echeance),1)])])])]),t("section",ft,[t("div",yt,[e[14]||(e[14]=t("h3",{class:"text-base font-semibold leading-7 text-gray-900"},"Paiements",-1)),t("button",{type:"button",onClick:e[0]||(e[0]=l=>r(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none text-xs disabled:opacity-50 bg-[#1F2923] text-slate-50 shadow hover:bg-[#2f3a34] px-4 py-3 self-start"}," Nouveau paiement ")]),t("div",vt,[i(U,{rowClick:()=>("navigateTo"in n?n.navigateTo:s(J))("/factures/2"),columns:P,data:(h=s(a).facture)==null?void 0:h.payments},null,8,["rowClick","data"])])]),i(N,{isActive:s(d),onClose:()=>r(!1)},{default:V(()=>[t("div",bt,[e[15]||(e[15]=t("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[t("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Nouveau paiement ")],-1)),t("form",{class:"space-y-8",onSubmit:e[4]||(e[4]=K(l=>k(s(a).facture),["prevent"]))},[t("div",wt,[i(u,{required:"",label:"Statut",modelValue:s(o).newPayment.status,"onUpdate:modelValue":e[1]||(e[1]=l=>s(o).newPayment.status=l),options:M,placeholder:"Statut",name:"title"},null,8,["modelValue"]),i(u,{required:"",modelValue:s(o).newPayment.mode_paiement,"onUpdate:modelValue":e[2]||(e[2]=l=>s(o).newPayment.mode_paiement=l),options:C,label:"Mode de paiement",placeholder:"mode paiement",name:"title"},null,8,["modelValue"])]),t("div",ht,[i(F,{required:"",modelValue:s(o).newPayment.amount,"onUpdate:modelValue":e[3]||(e[3]=l=>s(o).newPayment.amount=l),min:"1",type:"number",label:"Montant",placeholder:"Montant",name:"title"},null,8,["modelValue"])]),i($,{label:"Créer",isLoading:s(o).isLoading},null,8,["isLoading"])],32)])]),_:1},8,["isActive","onClose"])])]}),_:1})])}}});export{Lt as default};
