import{g as h,c,o as r,F as g,y as x,a as s,t as b,E as j,q as M,p as a,l as F,b as p,z as q,r as w,m as D,k as N,v as E,A as z,w as O,B as P,C as I}from"./DmKFrW2Y.js";import{_ as R}from"./CDDAV53k.js";import{_ as G}from"./Dn_7rsv-.js";import{_ as H}from"./FuUbJ_Gu.js";import{u as J}from"./CGqTbvv9.js";import{_ as K,a as Q,b as W}from"./C5Qi8Cvj.js";import{u as X}from"./CzwX7gpr.js";import"./C9Tjr1y5.js";import"./DTMxtOxE.js";import"./CFqXm1HB.js";import"./Dy310um6.js";const Y={class:"inline-flex mb-6 w-full cursor-pointer items-center justify-between bg-slate-00 text-slate-500",style:{outline:"none"}},Z=["onClick","data-state"],ee=h({__name:"ButtonTabsComponent",props:{isActive:{},setTabs:{type:Function}},setup(y){const t=[{libele:"Utilisateurs",index:1},{libele:"DÃ©vise",index:2}];return(o,d)=>(r(),c("div",Y,[(r(),c(g,null,x(t,(n,_)=>s("button",{key:_,onClick:l=>o.setTabs(n.index),type:"button","data-state":o.isActive==n.index&&"active",class:"w-full hover:bg-sidebar hover:border border-b border-gray-200 hover:border-white cursor-pointer items-center justify-center whitespace-nowrap px-3 py-2 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg data-[state=active] data-[state=active]:border-b-primary dark:focus-visible:ring-slate-300",tabindex:"-1","data-orientation":"horizontal","data-radix-collection-item":""},b(o.$t(n.libele)),9,Z)),64))]))}}),te={class:"w-full"},se={key:0,class:"w-full mt-3 p-4 border overflow-hidden border-gray-200 rounded-lg"},ae={class:"w-full mt-4"},oe={class:"w-full"},ne=h({__name:"CurrenryComponent",setup(y){const t=J();return j(()=>{t.allCurrency()}),(o,d)=>{const n=G,_=H;return r(),c("div",null,[s("div",te,[s("form",{class:"w-120 mx-auto",onSubmit:d[0]||(d[0]=M((...l)=>a(t).createOrUpdateCurrency&&a(t).createOrUpdateCurrency(...l),["prevent"]))},[a(t).currency?(r(),c("div",se,[(r(!0),c(g,null,x(a(t).currency,(l,f)=>(r(),c("div",{class:"mb-4 flex gap-2",key:f},[p(n,{modelValue:l.name,"onUpdate:modelValue":m=>l.name=m,label:"Code",placeholder:"code",readonly:"",name:"title"},null,8,["modelValue","onUpdate:modelValue"]),p(n,{required:f==0,modelValue:l.taux,"onUpdate:modelValue":m=>l.taux=m,modelModifiers:{number:!0},label:"Taux",type:"number",placeholder:"Taux",name:"title"},null,8,["required","modelValue","onUpdate:modelValue"])]))),128))])):F("",!0),s("div",ae,[s("div",oe,[p(_,{label:"Enregistrer",isLoading:a(t).isLoading},null,8,["isLoading"])])])],32)])])}}}),le={class:"w-full"},re={class:"w-full p-2"},ie={class:"w-full"},ce={class:"w-full flex items-center justify-between mb-10"},ue={class:"text-sm font-semibold uppercase text-neutral-500"},de={class:"w-auto"},pe={class:"w-full flex items-center justify-between mb-3"},_e={class:"w-auto gap-2 flex items-center justify-between"},fe={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},me={class:"w-auto px-1 block border-r border-gray-300"},be={class:"w-auto flex items-center justify-center h-full"},ve=["value"],we={class:"w-full p-2"},he=h({__name:"UserComponent",setup(y){const t=X(),o=q({search:"",status:"",limit:"1"}),d=w(!1),n=w(!1),_=w(!1),l=e=>{d.value=e},f=e=>{n.value=e},m=e=>{t.updateUser.last_name=e==null?void 0:e.last_name,t.updateUser.email=e==null?void 0:e.email,t.updateUser.id=e==null?void 0:e.id,t.updateUser.name=e==null?void 0:e.name,t.updateUser.phone=e==null?void 0:e.phone,t.updateUser.role=e==null?void 0:e.role,f(!0)},k=async()=>{await t.create(),await v()},B=async()=>{await t.update(),await v()},v=async(e={})=>{const i=new URLSearchParams({search:o.search||"",page:o.limit||"",status:e.status||""});await t.allByFilter(i),_.value=!1};return D(o,e=>{let i=setTimeout(async()=>{v(e),clearTimeout(i)},400)},{deep:!0}),N(()=>{v()}),(e,i)=>{var U,C,$,V;const T=K,A=Q,L=W;return r(),c("div",null,[s("div",le,[s("div",re,[s("div",ie,[s("div",ce,[s("h5",ue,b(e.$t("user.title")),1),s("div",de,[s("button",{onClick:i[0]||(i[0]=u=>l(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors text-xs disabled:opacity-50 bg-primary text-slate-50 shadow px-4 py-3 self-start"},b(e.$t("user.button")),1)])]),s("div",pe,[i[2]||(i[2]=s("div",{class:"w-auto"},null,-1)),s("div",_e,[s("div",fe,[s("div",me,b(e.$t("filter_page")),1),s("div",be,[E(s("select",{"onUpdate:modelValue":i[1]||(i[1]=u=>a(o).limit=u),class:"w-full h-full bg-transparent border-none outline-none"},[(r(!0),c(g,null,x((C=(U=a(t))==null?void 0:U.users)==null?void 0:C.page,(u,S)=>(r(),c("option",{key:S,value:u==null?void 0:u.label},b(u==null?void 0:u.label),9,ve))),128))],512),[[z,a(o).limit]])])])])])]),s("div",we,[p(T,{loading:a(_),data:(V=($=a(t))==null?void 0:$.users)==null?void 0:V.data,setUpdate:m},null,8,["loading","data"])]),p(A,{"new-user":a(t).newUser,"create-user":k,"set-active":l,"is-active":a(d),"is-loading":a(t).isLoading},null,8,["new-user","is-active","is-loading"]),p(L,{update:a(t).updateUser,"update-user":B,"set-active":f,"is-active":a(n),"is-loading":a(t).isLoading},null,8,["update","is-active","is-loading"])])])])}}}),ye={class:"w-full"},Se=h({__name:"index",setup(y){const t=w(1),o={1:he,2:ne},d=n=>{t.value=n};return(n,_)=>{const l=ee,f=R;return r(),c("div",null,[p(f,null,{default:O(({userConnected:m})=>[p(l,{setTabs:d,"is-active":a(t)},null,8,["is-active"]),s("div",ye,[(r(),P(I(o[a(t)])))])]),_:1})])}}});export{Se as default};
