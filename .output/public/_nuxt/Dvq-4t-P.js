import{_ as U}from"./DIxktKBR.js";import{f as w,c as v,o as g,b as s,w as p,a as o,e as F,r as y,m as T,j as N,y as V,l as i,z as M,k as z,i as D,t as A,d as I,p as q,v as G}from"./BiSsR77i.js";import{_ as P}from"./Bzz8Nr_R.js";import{_ as E}from"./BH3iKA9C.js";import{_ as R}from"./D1bneEpT.js";import{_ as H}from"./DdtVXqj0.js";import{_ as J}from"./B_EG6IiI.js";import{u as K}from"./CHgZdlI-.js";const O={class:"flex items-center gap-1 text-[12px]"},Q=w({__name:"TableComponent",props:{data:{},setUpdate:{type:Function},loading:{type:Boolean},columns:{}},setup(f){const t=f;return(c,l)=>{const u=F,n=E;return g(),v("div",null,[s(n,{loading:c.loading,columns:c.columns,data:t.data},{action:p(({item:a})=>[o("div",O,[s(u,{to:`/account/clubs/detail?id=${a==null?void 0:a.id}&uid=${a==null?void 0:a.uid}`,class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full px-2 py-1 border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},{default:p(()=>l[0]||(l[0]=[o("i",{class:"uil uil-eye"},null,-1)])),_:2},1032,["to"]),s(u,{to:`/account/clubs/update?id=${a.id}&uid=${a.uid}`,class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},{default:p(()=>l[1]||(l[1]=[o("i",{class:"uil uil-pen"},null,-1)])),_:2},1032,["to"])])]),_:1},8,["loading","columns","data"])])}}}),W={class:"grid mt-4 w-full max-w-lg gap-4"},X=["onClick"],Y={key:0,class:"mt-2"},Z=w({__name:"ImportComponent",props:{isActive:{type:Boolean},setActive:{type:Function},loading:{type:Boolean},payload:{},action:{type:Function},callback:{type:Function}},setup(f){const t=f,c=()=>{t.payload.file=null,t.setActive(!1)};let l=y(!1);const u=async()=>{l.value=!0,await t.action(),t.callback&&(await t.callback(),t.setActive(!1)),l.value=!1};return(n,a)=>{const _=U,x=R,h=H;return g(),v("div",null,[o("div",null,[s(h,{isActive:n.isActive,onClose:c},{default:p(()=>[o("div",W,[o("form",{action:"",onSubmit:T(u,["prevent"])},[s(x,{file:n.payload.file,"onUpdate:file":a[0]||(a[0]=d=>n.payload.file=d),accept:".xls,.xlsx,csv"},{default:p(({onOpen:d})=>[o("div",{onClick:d,class:"w-full cursor-pointer mb-4 flex items-center flex-col justify-center h-40 border border-dashed rounded-md border-gray-400"},[a[2]||(a[2]=o("span",{class:"text-[14px]"},"Cliquez ici pour importer votre fichier.",-1)),o("span",{class:V(["w-20 h-20 leading-20 bg-gray-100 rounded-full block text-center mt-2",{"text-green-800 bg-green-100":n.payload.file}])},a[1]||(a[1]=[o("i",{class:"uil uil-file-alt text-4xl mt-4"},null,-1)]),2),n.payload.file?(g(),v("span",Y,"Ficher importÃ©")):N("",!0)],8,X),s(_,{isLoading:i(l),name:"action",type:"submit",value:"send",label:"Soumettre",disabled:!n.payload.file},null,8,["isLoading","disabled"])]),_:1},8,["file"])],32)])]),_:1},8,["isActive"])])])}}}),ee={class:"w-full"},te={class:"w-full p-2"},oe={class:"w-full"},ae={class:"w-full flex items-center justify-between mb-10"},le={class:"text-sm font-semibold uppercase text-neutral-500"},se={class:"w-auto flex items-center gap-2"},ne={class:"w-full flex items-center justify-between mb-3"},ie={class:"w-auto"},ce=["placeholder"],re={class:"w-auto gap-2 flex items-center justify-between"},ue={class:"w-full p-2"},ge=w({__name:"index",setup(f){const t=K(),c=y(!1),l=M({search:"",status:"",limit:"all"}),u=[{label:"colunm_club.code",key:"code"},{label:"colunm_club.td1",key:"name"},{label:"colunm_club.td2",key:"country"},{label:"colunm_club.td3",key:"language"},{label:"colunm_club.td4",key:"action"}],n=y(!1),a=y(!1),_=e=>{n.value=e},x=e=>{a.value=e},h=e=>{t.updateClub.country_id=e==null?void 0:e.country_id,t.updateClub.status=e==null?void 0:e.status,t.updateClub.id=e==null?void 0:e.id,t.updateClub.name=e==null?void 0:e.name,console.log(e),x(!0)},d=async(e={})=>{var m,b;((b=(m=t==null?void 0:t.clubs)==null?void 0:m.data)==null?void 0:b.length)==0&&(c.value=!0);const r=new URLSearchParams({search:l.search||"",page:l.limit||"",status:e.status||""});await t.allByFilter(r),c.value=!1};return z(l,e=>{let r=setTimeout(async()=>{c.value=!0,t.clubs.data=[],await d(e),clearTimeout(r)},400)},{deep:!0}),D(()=>{d()}),(e,r)=>{const m=U,b=F,B=P,j=Q,L=Z,S=J;return g(),v("div",null,[s(S,null,{default:p(()=>{var k,$;return[o("div",ee,[o("div",te,[o("div",oe,[o("div",ae,[o("h5",le,A(e.$t("club.title")),1),o("div",se,[s(m,{onClick:r[0]||(r[0]=C=>_(!0)),class:"!bg-gray-100 !text-black border border-slate-200",type:"button",label:"Importer"}),s(b,{class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors e text-xs disabled:opacity-50 bg-primary text-slate-50 shadow px-4 py-3 self-start",to:"/account/clubs/create"},{default:p(()=>[I(A(e.$t("club.button")),1)]),_:1})])]),o("div",ne,[o("div",ie,[q(o("input",{"onUpdate:modelValue":r[1]||(r[1]=C=>i(l).search=C),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:`${e.$t("placeholder_search")}...`,autocomplete:"off"},null,8,ce),[[G,i(l).search]])]),o("div",re,[s(B,{data:(k=i(t))==null?void 0:k.clubs.data,colunm:u,lang:""},null,8,["data"])])])]),o("div",ue,[s(j,{loading:i(c),columns:u,data:($=i(t))==null?void 0:$.clubs.data,setUpdate:h},null,8,["loading","data"])]),s(L,{payload:i(t).payload,loading:i(t).isLoading,action:i(t).createFromFile,isActive:i(n),setActive:_,callback:d},null,8,["payload","loading","action","isActive"])])])]}),_:1})])}}});export{ge as default};
