import{E as F,G as f,y as w,r as O,H as g}from"./DoEeMXyA.js";const V=F("club",()=>{async function p(u){return await f(`/club/all?${u.toString()}`)}async function y(u){return await f(`/club/all/filter?${u.toString()}`)}async function t(u){return await f(`/club/${u.id}/${u.uid}`)}async function r(u){return await f(`/club/by/member/${u.id}/${u.uid}`)}async function b(u){return await f("/club/create",{method:"POST",body:u})}async function i(u){return await f("/club/update",{method:"put",body:u})}return{all:p,create:b,findDetail:t,allByFilter:y,update:i,findByMember:r}}),H=F("ClubViewModel",()=>{const p=w({data:[],page:[]}),y=O(),t=O(!1),r=V();let b={name:"",country_id:"",status:"",effectif:"",club_personel:[{name:"",last_name:"",function:"président",phone:"",email:""},{name:"",last_name:"",function:"secrétaire",phone:"",email:""},{name:"",last_name:"",function:"trésorier",phone:"",email:""}]};const i=w({...b}),u=w({...b,id:""});async function k(c=""){var o,e,d,l,_,C,S,v,B;const a=await r.allByFilter(c);let s=[];return c.get("page")=="all"?s=(o=a.data)==null?void 0:o.data:((d=(e=a.data)==null?void 0:e.data)==null||d.links.shift(),(_=(l=a.data)==null?void 0:l.data)==null||_.links.pop(),p.page=(S=(C=a.data)==null?void 0:C.data)==null?void 0:S.links,s=(B=(v=a.data)==null?void 0:v.data)==null?void 0:B.data),p.data=[...s.map((n,Y)=>{var $,E,M;return{id:n==null?void 0:n.id,code:n==null?void 0:n.code,uid:n==null?void 0:n.club_uid,name:n==null?void 0:n.name,language:($=n==null?void 0:n.country)==null?void 0:$.langage,desc:n==null?void 0:n.description,country:(E=n==null?void 0:n.country)==null?void 0:E.name,country_id:(M=n==null?void 0:n.country)==null?void 0:M.id,status:n==null?void 0:n.status}})],a}async function x(c=""){var s,o;const a=await r.all(c);return[...(o=(s=a.data)==null?void 0:s.data)==null?void 0:o.map((e,d)=>({id:e==null?void 0:e.id,uid:e==null?void 0:e.club_uid,name:e==null?void 0:e.name,language:e==null?void 0:e.language,desc:e==null?void 0:e.description,country:e==null?void 0:e.country}))],a}async function D(c){var s;const a=await r.findDetail(c);return y.value=(s=a==null?void 0:a.data)==null?void 0:s.data,a}async function T(c){var o,e,d;h();const a=await r.findByMember(c);let s=(o=a==null?void 0:a.data)==null?void 0:o.data;return u.id=s.id,u.name=s.name,u.country_id=s.country_id,u.status=s.status,u.effectif=s.effectif,(d=(e=a==null?void 0:a.data)==null?void 0:e.data)==null||d.personels.map((l,_)=>u.club_personel[_]={id:(l==null?void 0:l.id)??"",name:(l==null?void 0:l.name)??"",email:(l==null?void 0:l.email)??"",phone:(l==null?void 0:l.phone)??""}),a}async function U(){var s;t.value=!0;let c={...i};const a=await r.create(c);a!=null&&a.error&&alert((s=a==null?void 0:a.error)==null?void 0:s.message),a!=null&&a.data&&(P(),g("Opération éffectuée",{autoClose:1e3,type:g.TYPE.SUCCESS})),t.value=!1}async function j(){var s;t.value=!0;let c={...u};const a=await r.update(c);a!=null&&a.error&&alert((s=a==null?void 0:a.error)==null?void 0:s.message),a!=null&&a.data&&g("Opération éffectuée",{autoClose:1e3,type:g.TYPE.SUCCESS}),t.value=!1}function P(){Object.assign(i,{name:"",country_id:"",status:"",effectif:"",club_personel:[{name:"",last_name:"",function:"président",phone:"",email:""},{name:"",last_name:"",function:"secrétaire",phone:"",email:""},{name:"",last_name:"",function:"trésorier",phone:"",email:""}]})}function h(){Object.assign(u,{name:"",country_id:"",status:"",effectif:"",club_personel:[{name:"",last_name:"",function:"président",phone:"",email:""},{name:"",last_name:"",function:"secrétaire",phone:"",email:""},{name:"",last_name:"",function:"trésorier",phone:"",email:""}]})}return{all:x,club:y,clubs:p,newClub:i,create:U,isLoading:t,findDetail:D,allByFilter:k,updateClub:u,update:j,findByMember:T,resetUpdateClub:h}});export{H as u};
