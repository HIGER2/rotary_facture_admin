import{_ as T}from"./QZSqXYiQ.js";import{g as y,c as m,o as f,b as n,w as x,a as t,q as $,z as j,r as h,m as D,k as N,v as V,x as E,p as u,B as I,F as z,A as G,t as H}from"./DY93oi3b.js";import{_ as A}from"./Du9N_lVr.js";import{_ as L}from"./FnZdAEgK.js";import{_ as k}from"./BfzfIajO.js";import{_ as C}from"./BQ-yDs5T.js";import{_ as F}from"./D-Iyb2w5.js";import{_ as J}from"./BVGChidV.js";import{u as K}from"./BSci0fxV.js";import"./C_gOdtv4.js";const O={class:"flex items-center gap-1 text-[12px]"},Q=["onClick"],W=y({__name:"TableComponent",props:{data:{},setUpdate:{type:Function},loading:{type:Boolean}},setup(g){const o=g,e=[{label:"code",key:"code"},{label:"libélé",key:"libele"},{label:"prix",key:"price"},{label:"statut",key:"status"},{label:"designation",key:"designation"},{label:"action",key:"action"}];return(s,r)=>{const p=T;return f(),m("div",null,[n(p,{loading:s.loading,columns:e,data:o.data},{action:x(({item:c})=>[t("div",O,[t("button",{type:"button",onClick:b=>o.setUpdate(c),class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},r[0]||(r[0]=[t("i",{class:"uil uil-pen"},null,-1)]),8,Q)])]),_:1},8,["loading","data"])])}}}),X={class:"grid mt-4 w-full max-w-lg gap-4"},Y={class:"mb-4 flex gap-1.5"},Z={class:""},ee={class:""},te={class:"w-full mt-4"},se=y({__name:"AddRubriqueComponent",props:{isActive:{type:Boolean},setActive:{type:Function},newRubrique:{},createRubrique:{type:Function},isLoading:{type:Boolean}},setup(g){const o=[{label:"actif",status:"actif"},{label:"inactif",status:"inactif"}];return(e,s)=>{const r=A,p=L,c=k,b=C,v=F;return f(),m("div",null,[n(v,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:x(()=>[t("div",X,[s[5]||(s[5]=t("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[t("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Nouvelle rubrique ")],-1)),t("form",{class:"",onSubmit:s[4]||(s[4]=$(a=>e.createRubrique(),["prevent"]))},[t("div",Y,[n(r,{required:"",modelValue:e.newRubrique.libele,"onUpdate:modelValue":s[0]||(s[0]=a=>e.newRubrique.libele=a),label:"Libélé",placeholder:"Libélé",name:"title"},null,8,["modelValue"]),n(p,{required:"",modelValue:e.newRubrique.status,"onUpdate:modelValue":s[1]||(s[1]=a=>e.newRubrique.status=a),options:o,label:"Statut",placeholder:"Statut",name:"title"},null,8,["modelValue"])]),t("div",Z,[n(r,{required:"",type:"number",modelValue:e.newRubrique.price,"onUpdate:modelValue":s[2]||(s[2]=a=>e.newRubrique.price=a),label:"Prix",placeholder:"Prix",name:"Prix"},null,8,["modelValue"])]),t("div",ee,[n(c,{label:"Désignation",modelValue:e.newRubrique.designation,"onUpdate:modelValue":s[3]||(s[3]=a=>e.newRubrique.designation=a),placeholder:"Désignation",rows:"3"},null,8,["modelValue"])]),t("div",te,[n(b,{label:"Créer",isLoading:e.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),oe={class:"grid mt-4 w-full max-w-lg gap-4"},le={class:"mb-4 flex gap-1.5"},ae={class:""},ne={class:""},ie={class:"w-full mt-4"},ue=y({__name:"UpdateRubriqueComponent",props:{isActive:{type:Boolean},setActive:{type:Function},update:{},updateRubrique:{type:Function},isLoading:{type:Boolean}},setup(g){const o=[{label:"actif",status:"actif"},{label:"inactif",status:"inactif"}];return(e,s)=>{const r=A,p=L,c=k,b=C,v=F;return f(),m("div",null,[n(v,{isActive:e.isActive,onClose:()=>e.setActive(!1)},{default:x(()=>[t("div",oe,[s[5]||(s[5]=t("div",{class:"flex flex-col space-y-1.5 text-center sm:text-left"},[t("h2",{id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"}," Modifier rubrique ")],-1)),t("form",{class:"",onSubmit:s[4]||(s[4]=$(a=>e.updateRubrique(),["prevent"]))},[t("div",le,[n(r,{required:"",modelValue:e.update.libele,"onUpdate:modelValue":s[0]||(s[0]=a=>e.update.libele=a),label:"Libélé",placeholder:"Libélé",name:"title"},null,8,["modelValue"]),n(p,{required:"",modelValue:e.update.status,"onUpdate:modelValue":s[1]||(s[1]=a=>e.update.status=a),options:o,label:"Statut",placeholder:"Statut",name:"title"},null,8,["modelValue"])]),t("div",ae,[n(r,{required:"",type:"number",modelValue:e.update.price,"onUpdate:modelValue":s[2]||(s[2]=a=>e.update.price=a),label:"Prix",placeholder:"Prix",name:"Prix"},null,8,["modelValue"])]),t("div",ne,[n(c,{label:"Désignation",modelValue:e.update.designation,"onUpdate:modelValue":s[3]||(s[3]=a=>e.update.designation=a),placeholder:"Désignation",rows:"3"},null,8,["modelValue"])]),t("div",ie,[n(b,{label:"Enregistrer",isLoading:e.isLoading},null,8,["isLoading"])])],32)])]),_:1},8,["isActive","onClose"])])}}}),re={class:"w-full"},de={class:"w-full p-2"},pe={class:"w-full"},ce={class:"w-full flex items-center justify-between mb-10"},be={class:"w-auto"},me={class:"w-full flex items-center justify-between mb-3"},fe={class:"w-auto"},ve={class:"w-auto gap-2 flex items-center justify-between"},ge={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},_e={class:"w-auto flex items-center justify-center h-full"},we=["value"],qe={class:"w-full p-2"},Ce=y({__name:"index",setup(g){const o=K(),e=j({search:"",status:"",limit:"1"}),s=h(!1),r=h(!1),p=h(!1),c=l=>{s.value=l},b=l=>{r.value=l},v=l=>{o.updateRubrique.status=l==null?void 0:l.status,o.updateRubrique.id=l==null?void 0:l.id,o.updateRubrique.designation=l==null?void 0:l.designation,o.updateRubrique.price=l==null?void 0:l.price,o.updateRubrique.libele=l==null?void 0:l.libele,b(!0)},a=async()=>{await o.create(),await _()},S=async()=>{await o.update(),await _()},_=async(l={})=>{var w,q;((q=(w=o==null?void 0:o.rubriques)==null?void 0:w.data)==null?void 0:q.length)==0&&(p.value=!0);const i=new URLSearchParams({search:e.search||"",page:e.limit||"",status:l.status||""});await o.allByFilter(i),p.value=!1};return D(e,l=>{let i=setTimeout(async()=>{p.value=!0,o.rubriques.data=[],_(l),clearTimeout(i)},400)},{deep:!0}),N(()=>{_()}),(l,i)=>{const w=W,q=se,B=ue,P=J;return f(),m("div",null,[n(P,null,{default:x(()=>{var R,U;return[t("div",re,[t("div",de,[t("div",pe,[t("div",ce,[i[3]||(i[3]=t("h5",{class:"text-sm font-semibold uppercase text-neutral-500"},"Rubriques",-1)),t("div",be,[t("button",{onClick:i[0]||(i[0]=d=>c(!0)),class:"cursor-pointer items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none text-xs disabled:opacity-50 bg-[#1F2923] text-slate-50 shadow hover:bg-[#2f3a34] px-4 py-3 self-start"}," Ajouter une rubrique ")])]),t("div",me,[t("div",fe,[V(t("input",{"onUpdate:modelValue":i[1]||(i[1]=d=>u(e).search=d),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:"Recherche...",autocomplete:"off"},null,512),[[E,u(e).search]])]),t("div",ve,[t("div",ge,[i[4]||(i[4]=t("div",{class:"w-auto px-1 block border-r border-gray-300"},"Par page",-1)),t("div",_e,[V(t("select",{"onUpdate:modelValue":i[2]||(i[2]=d=>u(e).limit=d),class:"w-full h-full bg-transparent border-none outline-none"},[(f(!0),m(z,null,G((R=u(o))==null?void 0:R.rubriques.page,(d,M)=>(f(),m("option",{key:M,value:d==null?void 0:d.label},H(d==null?void 0:d.label),9,we))),128))],512),[[I,u(e).limit]])])])])])]),t("div",qe,[n(w,{loading:u(p),data:(U=u(o))==null?void 0:U.rubriques.data,setUpdate:v},null,8,["loading","data"])]),n(q,{"new-rubrique":u(o).newRubrique,"create-rubrique":a,"set-active":c,"is-active":u(s),"is-loading":u(o).isLoading},null,8,["new-rubrique","is-active","is-loading"]),n(B,{update:u(o).updateRubrique,"update-rubrique":S,"set-active":b,"is-active":u(r),"is-loading":u(o).isLoading},null,8,["update","is-active","is-loading"])])])]}),_:1})])}}});export{Ce as default};
