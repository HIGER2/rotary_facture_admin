import{_ as V}from"./DCgtSwiT.js";import{_ as k}from"./JSiXwtEs.js";import{_ as N}from"./Bn1f_jws.js";import{_ as L}from"./D2R3acs0.js";import{g as T,r as j,z as M,m as U,k as B,c as d,b as f,w as v,o as p,a as e,l as F,t as s,d as S,F as D,y as P,p as l,v as x,x as q,A as z}from"./l5F4RGht.js";import{u as A}from"./C81QlEZD.js";import"./CuAVTgxc.js";import"./Q6xmKibN.js";import"./B4uPnpJb.js";const E={class:"w-full"},G={class:"w-full p-2"},R={class:"w-full"},H={class:"w-full flex items-center justify-between mb-10"},I={class:"text-sm font-semibold uppercase text-neutral-500"},J={key:0,class:"w-auto"},K={class:"w-full grid grid-cols-1 md:grid-cols-4 gap-4 p-2 mb-5"},O={class:"text-xs text-gray-500 font-medium"},Q={class:"text-lg font-extrabold"},W={class:"w-full flex items-center justify-between mb-3"},X={class:"w-auto"},Y=["placeholder"],Z={class:"w-auto gap-2 flex items-center justify-between"},C={value:""},ee={value:"en_cours"},te={value:"brouillon"},se={value:"payée"},oe={value:"annulée"},ae={value:"partiellement_payé"},le={value:"arriérée"},ie={class:"w-full p-2"},be=T({__name:"index",setup(ne){const o=A(),c=j(!1),r=M({search:"",status:""}),_=async(t={})=>{var u;((u=o==null?void 0:o.factures)==null?void 0:u.length)==0&&(c.value=!0);const i=new URLSearchParams({search:r.search||"",status:t.status||""});await o.all(i),c.value=!1};return U(r,t=>{let i=setTimeout(async()=>{c.value=!0,o.factures=[],_(t),clearTimeout(i)},400)},{deep:!0}),B(()=>{_()}),(t,i)=>{const u=V,w=k,g=N,y=L;return p(),d("div",null,[f(y,null,{default:v(({userConnected:n})=>{var m,h,b;return[e("div",E,[e("div",G,[e("div",R,[e("div",H,[e("h5",I,s(t.$t("facture.title")),1),(n==null?void 0:n.role)!=="club"?(p(),d("div",J,[f(u,{class:"inline-flex items-center justify-center whitespace-nowrap rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none text-xs disabled:opacity-50 bg-primary text-slate-50 shadow px-4 py-3 self-start",to:"/account/factures/create"},{default:v(()=>[S(s(t.$t("facture.button")),1)]),_:1})])):F("",!0)])]),e("div",K,[(p(!0),d(D,null,P((m=l(o))==null?void 0:m.analityc,(a,$)=>(p(),d("div",{key:$,class:"box"},[e("span",O,s(t.$t(a==null?void 0:a.label)),1),e("h2",Q,s(a==null?void 0:a.value),1)]))),128))]),e("div",W,[e("div",X,[x(e("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>l(r).search=a),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:t.$t("placeholder_search"),autocomplete:"off"},null,8,Y),[[q,l(r).search]])]),e("div",Z,[x(e("select",{"onUpdate:modelValue":i[1]||(i[1]=a=>l(r).status=a),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[120px]"},[e("option",C,s(t.$t("facture.filter.x1")),1),e("option",ee,s(t.$t("facture.filter.x2")),1),e("option",te,s(t.$t("facture.filter.x3")),1),e("option",se,s(t.$t("facture.filter.x4")),1),e("option",oe,s(t.$t("facture.filter.x5")),1),e("option",ae,s(t.$t("facture.filter.x6")),1),e("option",le,s(t.$t("facture.filter.x7")),1)],512),[[z,l(r).status]]),f(w,{data:(h=l(o))==null?void 0:h.factures,colunm:l(o).columns[n==null?void 0:n.role],lang:""},null,8,["data","colunm"])])]),e("div",ie,[f(g,{columns:l(o).columns,loading:l(c),user:n,data:(b=l(o))==null?void 0:b.factures},null,8,["columns","loading","user","data"])])])])]}),_:1})])}}});export{be as default};
