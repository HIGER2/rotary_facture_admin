import{_ as U}from"./CfrQAaTd.js";import{_ as E}from"./DhcQ3kKc.js";import{u as M,_ as S}from"./B5_vxmIK.js";import{_ as $}from"./Bl_LdI73.js";import{_ as j}from"./DMqi6gYu.js";import{g as C,s as R,r as d,k as B,c as L,b as u,w as k,j as N,o as A,a as o,q as T,p as l}from"./D1yP2C89.js";import{u as z}from"./CwKF3SeV.js";import{u as I}from"./UXAvchNV.js";import{u as b}from"./BQqmUdL_.js";import"./CW1WITLF.js";const O={class:"w-full"},P={class:"w-[600px] m-auto"},D={class:"w-full p-2"},G={class:"w-full bg-white p-4 border overflow-hidden border-gray-200 rounded-lg"},H={class:"space-y-2 mb-4 flex gap-2"},J={class:"space-y-2 mb-4 flex gap-1.5"},K={class:"space-y-2 mb-4"},Q={class:"space-y-2 mb-4"},W={class:"mt-4 flex w-full flex-col justify-start gap-1"},X={class:"flex justify-between mt-4"},Y={class:"inline-flex"},ie=C({__name:"update",setup(Z){const t=b(),{isLoading:f}=R(b()),m=z(),_=M(),x=I(),i=d([]),p=d([]),c=d([]),v=[{label:"en cours",value:"en_cours"},{label:"payée",value:"payée"},{label:"annulée",value:"annulée"},{label:"partiellement payé",value:"partiellement_payé"},{label:"arriérée",value:"arriérée"}],w=async()=>{var e;let s=await m.all();i.value=[...(e=s.data)==null?void 0:e.data.map((a,r)=>({label:a==null?void 0:a.name,value:a==null?void 0:a.id}))]},V=async()=>{var e;let s=N();await t.find((e=s==null?void 0:s.query)==null?void 0:e.ref)},y=async()=>{var e;let s=await _.all();c.value=[...(e=s.data)==null?void 0:e.data.map((a,r)=>({label:a==null?void 0:a.libele,value:a==null?void 0:a.id}))]},F=async()=>{var e;let s=await x.all();p.value=[...(e=s.data)==null?void 0:e.data.map((a,r)=>({label:`${a==null?void 0:a.annee} : (du ${a==null?void 0:a.begin_date} au ${a==null?void 0:a.end_date})`,value:a==null?void 0:a.id}))]};return B(async()=>{await Promise.all([V(),w(),y(),F()])}),(s,e)=>{const a=U,r=E,q=S,g=$,h=j;return A(),L("div",null,[u(h,null,{default:k(()=>[o("div",O,[o("div",P,[e[9]||(e[9]=o("div",{class:"w-full p-2 mb-3"},[o("h5",{class:"text-sm font-semibold uppercase text-neutral-500"},"Modifier la facture")],-1)),o("div",D,[o("form",{class:"max-w-3xl",onSubmit:e[6]||(e[6]=T(n=>l(t).update(),["prevent"]))},[o("div",G,[o("div",H,[u(a,{modelValue:l(t).updateFacture.exercice_id,"onUpdate:modelValue":e[0]||(e[0]=n=>l(t).updateFacture.exercice_id=n),options:l(p),label:"Exercice",required:"",placeholder:"Selectionner un Exercice",name:"Exercice"},null,8,["modelValue","options"]),u(a,{modelValue:l(t).updateFacture.club_id,"onUpdate:modelValue":e[1]||(e[1]=n=>l(t).updateFacture.club_id=n),options:l(i),label:"Club",required:"",placeholder:"Selectionner un club",name:"title"},null,8,["modelValue","options"])]),o("div",J,[u(a,{required:"",modelValue:l(t).updateFacture.rubrique_id,"onUpdate:modelValue":e[2]||(e[2]=n=>l(t).updateFacture.rubrique_id=n),options:l(c),label:"Rubrique",placeholder:"Selectionner une rubrique",name:"title"},null,8,["modelValue","options"]),u(a,{required:"",modelValue:l(t).updateFacture.status,"onUpdate:modelValue":e[3]||(e[3]=n=>l(t).updateFacture.status=n),options:v,label:"Statut",placeholder:"Statut",name:"title"},null,8,["modelValue"])]),o("div",K,[u(r,{required:"",modelValue:l(t).updateFacture.amount,"onUpdate:modelValue":e[4]||(e[4]=n=>l(t).updateFacture.amount=n),type:"number",label:"Montant",placeholder:"Montant",name:"title"},null,8,["modelValue"])]),o("div",Q,[o("div",W,[e[7]||(e[7]=o("label",{class:"text-[13px] font-[500] text-zinc-700"},null,-1)),u(q,{required:"",modelValue:l(t).updateFacture.objet,"onUpdate:modelValue":e[5]||(e[5]=n=>l(t).updateFacture.objet=n),placeholder:"Objet",rows:"4"},null,8,["modelValue"])])])]),o("div",X,[e[8]||(e[8]=o("button",{class:"cursor-pointer inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none disabled:opacity-50 text-slate-900 underline-offset-4 hover:underline h-11 px-4 py-2",type:"button"}," Annuler ",-1)),o("div",Y,[u(g,{label:"Enregistrer",isLoading:l(f)},null,8,["isLoading"])])])],32)])])])]),_:1})])}}});export{ie as default};
