import{_ as k}from"./vDtiO1XD.js";import{_ as w}from"./DyYL-ui7.js";import{_ as C}from"./CztG9CjI.js";import{f as v,a7 as _,c as g,o as A,b as r,w as f,a as e,t as d,m as $,p as b,bN as x,l as c}from"./CB58tbNn.js";import{_ as h}from"./Ca6fDNaQ.js";import{_ as q}from"./BuacfXMz.js";import{u as F}from"./B2N7Caxz.js";const M={class:"grid mt-4 w-full max-w-lg gap-4"},U={class:"flex flex-col space-y-1.5 text-center sm:text-left"},V={id:"radix-:r70:",class:"text-lg font-semibold leading-none tracking-tight"},B={class:"space-y-2 mb-4"},P={class:"w-full"},z={class:"w-full flex gap-4 items-center"},L={class:"flex items-center cursor-pointer"},j={class:"flex items-center cursor-pointer"},R={class:"w-full mb-3"},D={class:"flex justify-between items-center"},N={class:"text-[13px] font-[500] text-zinc-700"},S={class:"flex justify-between items-center mt-2"},E={class:"text-[13px] font-[500] text-zinc-700"},Y=v({__name:"AddPaymentClubComponent",props:{isActive:{type:Boolean},setActive:{type:Function},processPayment:{type:Function},isLoading:{type:Boolean},paymentAmount:{}},setup(y){const s=y;function i(t,n){if(n>=100)return{montant_brut:0,montant_frais:0,montant_net:0,status:!1,message:"Le taux de commission ne peut pas être supérieur ou égal à 100%"};const o=1-n/100,m=Math.ceil(t/o),p=m-t,a=m-p;return{montant_brut:m,montant_frais:p,montant_net:a,status:!0,message:"Calcul effectué avec succès"}}const l=_(()=>{let t=0;return s.paymentAmount.mode_paiement==="mobile_money"?t=2.5:s.paymentAmount.mode_paiement==="credit_card"&&(t=3.5),i(s.paymentAmount.amount,t).montant_frais}),u=_(()=>{let t=0;return s.paymentAmount.mode_paiement==="mobile_money"?t=2.5:s.paymentAmount.mode_paiement==="credit_card"&&(t=3.5),i(s.paymentAmount.amount,t).montant_brut});return(t,n)=>{const o=k,m=w,p=C;return A(),g("div",null,[r(p,{isActive:t.isActive,onClose:()=>t.setActive(!1)},{default:f(()=>[e("div",M,[e("div",U,[e("h2",V,d(t.$t("facture.detail.payment_form.title_new")),1)]),e("form",{class:"space-y-8",onSubmit:n[3]||(n[3]=$((...a)=>t.processPayment&&t.processPayment(...a),["prevent"]))},[e("div",B,[r(o,{required:"",modelValue:t.paymentAmount.amount,"onUpdate:modelValue":n[0]||(n[0]=a=>t.paymentAmount.amount=a),min:"100",type:"number",label:t.$t("facture.detail.payment_form.label1"),placeholder:t.$t("facture.detail.payment_form.label1"),name:"title"},null,8,["modelValue","label","placeholder"])]),e("div",P,[n[6]||(n[6]=e("h3",{class:"mb-3"},"Moyen de paiement",-1)),e("div",z,[e("div",L,[b(e("input",{type:"radio",id:"mm",name:"mode_paiement","onUpdate:modelValue":n[1]||(n[1]=a=>t.paymentAmount.mode_paiement=a),value:"mobile_money",class:"peer checked:bg-primary mr-2 cursor-pointer",checked:""},null,512),[[x,t.paymentAmount.mode_paiement]]),n[4]||(n[4]=e("label",{for:"mm",class:"peer-checked:text-primary text-[13px] font-[500] text-zinc-700"},"Mobile Money",-1))]),e("div",j,[b(e("input",{type:"radio","onUpdate:modelValue":n[2]||(n[2]=a=>t.paymentAmount.mode_paiement=a),id:"cb",name:"mode_paiement",value:"credit_card",class:"peer checked:bg-primary mr-2 cursor-pointer"},null,512),[[x,t.paymentAmount.mode_paiement]]),n[5]||(n[5]=e("label",{for:"cb",class:"peer-checked:text-primary text-[13px] font-[500] text-zinc-700"},"Carte de Crédit",-1))])])]),e("div",R,[n[9]||(n[9]=e("h3",{class:"mb-3"},"Récapitulatif",-1)),e("div",D,[n[7]||(n[7]=e("span",{class:"text-[13px] font-[500] text-zinc-700"},"Frais",-1)),e("span",N,d(c(l))+" FCFA",1)]),e("div",S,[n[8]||(n[8]=e("span",{class:"text-[13px] font-[500] text-zinc-700"},"Montant à payer",-1)),e("span",E,d(c(u))+" FCFA",1)])]),r(m,{label:t.$t("facture.detail.payment_form.button_new")+` ( ${c(u)} )`,isLoading:t.isLoading},null,8,["label","isLoading"])],32)])]),_:1},8,["isActive","onClose"])])}}}),I={class:"mt-4"},T={class:"mt-6"},G=["onClick"],Z=v({__name:"RubriqueComponent",props:{rubriques:{},facture:{},user:{}},setup(y){F();const s={admin:[{label:"libélé",key:"libele"},{label:"prix",key:"price"},{label:"quantité",key:"quantity"},{label:"montant total",key:"total_amount"}],super_admin:[{label:"libélé",key:"libele"},{label:"prix",key:"price"},{label:"quantité",key:"quantity"},{label:"montant total",key:"total_amount"}],club:[{label:"libélé",key:"libele"},{label:"prix",key:"price"},{label:"quantité",key:"quantity"},{label:"montant total",key:"total_amount"}]};return(i,l)=>{var n;const u=h,t=q;return A(),g("section",I,[l[1]||(l[1]=e("div",{class:"px-4 sm:px-0 flex items-center justify-between"},[e("h3",{class:"text-base font-semibold leading-7 text-gray-900"},"Rubriques")],-1)),e("div",T,[r(t,{columns:s[(n=i.user)==null?void 0:n.role],data:i.rubriques},{status:f(({item:o})=>[r(u,{status:o==null?void 0:o.status},null,8,["status"])]),action:f(({item:o})=>[e("button",{type:"button",onClick:m=>i.setUpdate(o),class:"h-7 w-7 cursor-pointer hover:bg-gray-200 flex items-center justify-center text-center rounded-full border border-gray-200 text-gray-500 hover:text-gray-700 shadow"},l[0]||(l[0]=[e("i",{class:"uil uil-pen"},null,-1)]),8,G)]),_:1},8,["columns","data"])])])}}});export{Z as _,Y as a};
