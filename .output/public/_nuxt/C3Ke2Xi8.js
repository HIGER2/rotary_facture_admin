import{G as v,P as w,g as b,H as g,c as k,o as x,a as l,d as y}from"./dj6fAEAc.js";const C=(o,i,r)=>{if(!o||!Array.isArray(o)||o.length===0){alert("Aucune donnée à exporter");return}const t=o.map((c,f)=>{const d={id:f+1};return i.forEach(({key:u,label:p})=>{const h=r?r(p):p;let s=c[u];s&&typeof s=="string"&&s.match(/^\d{4}-\d{2}-\d{2} /)&&(s=v(s).format("DD/MM/YYYY HH:mm")),d[h]=c[u]}),d}),e=w.unparse(t,{delimiter:";",quotes:!0,header:!0,skipEmptyLines:!0}),a="\uFEFF"+e;console.log(JSON.stringify(e,null,2));const m=new Blob([a],{type:"text/csv"}),n=document.createElement("a");n.href=URL.createObjectURL(m),n.setAttribute("download","data.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},j=b({__name:"UploadCsv",props:{data:{},colunm:{},lang:{type:Boolean}},setup(o){const{t:i}=g(),r=(t,e,a=!1)=>{C(t,e,a&&i)};return(t,e)=>(x(),k("div",null,[l("button",{onClick:e[0]||(e[0]=a=>r(t.data,t.colunm,t.lang)),class:"inline-flex max-w-max items-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none disabled:opacity-50 border border-slate-200 bg-white shadow-sm hover:bg-slate-100 hover:text-slate-900 rounded-full px-3 text-xs h-8 w-full justify-start"},e[1]||(e[1]=[l("svg",{class:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[l("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zM12 8.5v6"}),l("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12.5l3 3 3-3"})],-1),y(" Télécharger ")]))]))}});export{j as _};
