import{g as h,c as x,o as b,F as T,y as I,a as e,t as _,b as p,w as g,d as N,r as k,z as C,m as F,k as $,v as y,A as U,p as t,x as v,C as P,l as K}from"./CohYd-EL.js";import{_ as S}from"./D2RlV79b.js";import{_ as V}from"./LH_BXUhL.js";import{_ as A}from"./DvGPLXu8.js";import{_ as L}from"./Bj8jbJm4.js";import{u as R}from"./JirQIuV_.js";import{_ as Q}from"./C6Xu-UpP.js";import{u as W}from"./C7UwnHBt.js";const X={class:"inline-flex mb-6 w-full cursor-pointer items-center justify-between bg-slate-00 text-slate-500 dark:bg-slate-800 dark:text-slate-400",style:{outline:"none"}},Y=["onClick","data-state"],Z=h({__name:"ButtonTabsComponent",props:{isActive:{},setTabs:{type:Function}},setup(w){const n=[{libele:"Paiement Facture Per capita",index:1},{libele:"Paiement gala",index:2},{libele:"Paiement particiaption ACD",index:3}];return(d,a)=>(b(),x("div",X,[(b(),x(T,null,I(n,(u,l)=>e("button",{key:l,onClick:s=>d.setTabs(u.index),type:"button","data-state":d.isActive==u.index&&"active",class:"w-full hover:bg-sidebar hover:border border-b border-gray-200 hover:border-white cursor-pointer items-center justify-center whitespace-nowrap px-3 py-2 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-sidebar data-[state=active]:text-slate-950 data-[state=active]:border data-[state=active]:border-b-0 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50",tabindex:"-1","data-orientation":"horizontal","data-radix-collection-item":""},_(u.libele),9,Y)),64))]))}}),ee=h({__name:"TableComponent",props:{data:{},loading:{type:Boolean}},setup(w){const n=[{label:"référence",key:"reference"},{label:"Club",key:"club"},{label:"N°Facture",key:"fac"},{label:"montant",key:"amount"},{label:"statut",key:"status"},{label:"mode paiement",key:"mode_paiement"},{label:"date",key:"date"}];return(d,a)=>{const u=V,l=A,s=L;return b(),x("div",null,[p(s,{loading:d.loading,columns:n,data:d.data},{fac:g(({item:i})=>[p(u,{to:`/account/factures/${i==null?void 0:i.fac}`,class:"text-blue-500 hover:text-blue-700 hover:underline"},{default:g(()=>[N(_(i==null?void 0:i.fac),1)]),_:2},1032,["to"])]),status:g(({item:i})=>[p(l,{status:i==null?void 0:i.status},null,8,["status"])]),_:1},8,["loading","data"])])}}}),te={class:"w-full flex items-center justify-between mb-3"},ae={class:"w-full gap-2 flex items-center justify-end mb-4"},se={class:"w-auto"},le={class:"flex items-center gap-2"},oe=h({__name:"TableComponentGala",props:{data:{},loading:{type:Boolean}},setup(w){const n=k([]),d=[{label:"Nom",key:"firstName"},{label:"Prénoms",key:"lastName"},{label:"Nom de badge",key:"nameOnBadge"},{label:"Téléphone",key:"phoneNumber"},{label:"Email",key:"clientEmail"},{label:"Club",key:"rotaryClub"},{label:"Invité",key:"guestNumber"},{label:"Methode de paiement",key:"paymentMethod"},{label:"Date Paiement",key:"paymentDate"},{label:"Status",key:"state"},{label:"Amount",key:"paidAmount"}],a=C({status:"",search:"",dateDebut:"",dateFin:""}),u=async(l={})=>{const s=new URLSearchParams({search:l.search||a.search,status:l.status||a.status,dateDebut:l.dateDebut||a.dateDebut,dateFin:l.dateFin||a.dateFin});let i=await R(`https://api.acd.district9101.org/public/api/v1.0/subscriptions/gala-members/success-payments?${s.toString()}`);n.value=i.data.data};return F(a,()=>{let l=setTimeout(async()=>{u(),clearTimeout(l)},400)},{deep:!0}),$(async()=>{u()}),(l,s)=>{const i=V,f=A,c=L;return b(),x("div",null,[e("div",te,[e("div",ae,[y(e("select",{"onUpdate:modelValue":s[0]||(s[0]=o=>t(a).status=o),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[120px]"},s[4]||(s[4]=[e("option",{value:""},"Tout",-1),e("option",{value:"PENDING"},"En attente",-1),e("option",{value:"SUCCESSFUL"},"Succès",-1),e("option",{value:"FAILED"},"Échoué",-1)]),512),[[U,t(a).status]]),e("div",se,[y(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t(a).search=o),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[150px]",placeholder:"Recherche paiement...",autocomplete:"off"},null,512),[[v,t(a).search]])]),e("div",le,[y(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t(a).dateDebut=o),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[150px]",type:"date"},null,512),[[v,t(a).dateDebut]]),y(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>t(a).dateFin=o),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[150px]",type:"date"},null,512),[[v,t(a).dateFin]])]),p(t(S),{data:t(n),colunm:d},null,8,["data"])])]),p(c,{loading:l.loading,columns:d,data:t(n)},{fac:g(({item:o})=>[p(i,{to:`/account/factures/${o==null?void 0:o.fac}`,class:"text-blue-500 hover:text-blue-700 hover:underline"},{default:g(()=>[N(_(o==null?void 0:o.fac),1)]),_:2},1032,["to"])]),status:g(({item:o})=>[p(f,{status:o==null?void 0:o.status},null,8,["status"])]),_:1},8,["loading","data"])])}}}),ne={class:"w-full"},ie={class:"w-full gap-2 flex items-center justify-end mb-4"},re={class:"w-auto"},de={class:"flex items-center gap-2"},ue=h({__name:"TableComponentAcd",props:{data:{},loading:{type:Boolean}},setup(w){const n=k([]),d=[{label:"Nom",key:"firstName"},{label:"Prénoms",key:"lastName"},{label:"Nom de badge",key:"nameOnBadge"},{label:"Pays",key:"country"},{label:"Club",key:"rotaryClub"},{label:"Téléphone",key:"phoneNumber"},{label:"Date arrivé",key:"arrivalDate"},{label:"Date départ",key:"departureDate"},{label:"Mode transport",key:"transportationMode"},{label:"Invité",key:"guestNumber"},{label:"Methode de paiement",key:"paymentMethod"},{label:"Date Paiement",key:"paymentDate"},{label:"Status",key:"state"},{label:"Amount",key:"paidAmount"}],a=C({status:"",search:"",dateDebut:"",dateFin:""}),u=async(l={})=>{const s=new URLSearchParams({search:l.search||a.search,status:l.status||a.status,dateDebut:l.dateDebut||a.dateDebut,dateFin:l.dateFin||a.dateFin});let i=await R(`https://api.acd.district9101.org/public/api/v1.0/subscriptions/acd-members/success-payments?${s.toString()}`);n.value=i.data.data,console.log(n.value)};return F(a,()=>{let l=setTimeout(async()=>{u(),clearTimeout(l)},400)},{deep:!0}),$(async()=>{u()}),(l,s)=>{const i=S,f=V,c=A,o=L;return b(),x("div",null,[e("div",ne,[e("div",ie,[y(e("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>t(a).status=r),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[120px]"},s[4]||(s[4]=[e("option",{value:""},"Tout",-1),e("option",{value:"PENDING"},"En attente",-1),e("option",{value:"SUCCESSFUL"},"Succès",-1),e("option",{value:"FAILED"},"Échoué",-1)]),512),[[U,t(a).status]]),e("div",re,[y(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>t(a).search=r),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[150px]",placeholder:"Recherche paiement...",autocomplete:"off"},null,512),[[v,t(a).search]])]),e("div",de,[y(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>t(a).dateDebut=r),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[150px]",type:"date"},null,512),[[v,t(a).dateDebut]]),y(e("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>t(a).dateFin=r),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[150px]",type:"date"},null,512),[[v,t(a).dateFin]])]),p(i,{data:t(n),colunm:d},null,8,["data"])]),p(o,{loading:l.loading,columns:d,data:t(n)},{fac:g(({item:r})=>[p(f,{to:`/account/factures/${r==null?void 0:r.fac}`,class:"text-blue-500 hover:text-blue-700 hover:underline"},{default:g(()=>[N(_(r==null?void 0:r.fac),1)]),_:2},1032,["to"])]),status:g(({item:r})=>[p(c,{status:r==null?void 0:r.status},null,8,["status"])]),_:1},8,["loading","data"])])])}}}),ce={class:"w-full"},pe={class:"w-full p-2"},be={class:"w-full grid grid-cols-1 md:grid-cols-5 gap-4 p-2 mb-5"},fe={class:"text-xs text-gray-500 font-medium"},me={class:"text-lg font-extrabold"},ye={class:"w-full flex items-center justify-between mb-3"},ge={class:"w-auto"},xe={class:"w-auto gap-2 flex items-center justify-between"},ve={class:"w-full p-2"},Ce=h({__name:"index",setup(w){const n=W(),d=k(!1),a=[{label:"référence",key:"reference"},{label:"Club",key:"club"},{label:"N°Facture",key:"fac"},{label:"montant",key:"amount"},{label:"statut",key:"status"},{label:"mode paiement",key:"mode_paiement"},{label:"date",key:"date"}],u=k(1),l=C({search:"",status:""}),s=f=>{u.value=f},i=async(f={})=>{var o;((o=n==null?void 0:n.payments)==null?void 0:o.length)==0&&(d.value=!0);const c=new URLSearchParams({search:l.search||"",status:f.status||""});await n.all(c),d.value=!1};return F(l,f=>{let c=setTimeout(async()=>{d.value=!0,n.payments=[],i(f),clearTimeout(c)},400)},{deep:!0}),$(()=>{i()}),(f,c)=>{const o=Z,r=S,q=ee,z=oe,O=ue,H=Q;return b(),x("div",null,[p(H,null,{default:g(({userConnected:D})=>{var B,E,M,j,G;return[e("div",ce,[e("div",pe,[c[3]||(c[3]=e("div",{class:"w-full"},[e("div",{class:"w-full flex items-center justify-between mb-5"},[e("h5",{class:"text-sm font-semibold uppercase text-neutral-500"}," Paiements ")])],-1)),(D==null?void 0:D.role)!=="club"?(b(),P(o,{key:0,setTabs:s,"is-active":t(u)},null,8,["is-active"])):K("",!0),t(u)==1?(b(),x(T,{key:1},[e("div",be,[(b(!0),x(T,null,I((B=t(n))==null?void 0:B.analityc,(m,J)=>(b(),x("div",{key:J,class:"box"},[e("span",fe,_(m==null?void 0:m.label),1),e("h2",me,_(m==null?void 0:m.value),1)]))),128))]),e("div",ye,[e("div",ge,[y(e("input",{"onUpdate:modelValue":c[0]||(c[0]=m=>t(l).search=m),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[250px]",placeholder:"Recherche paiement...",autocomplete:"off"},null,512),[[v,t(l).search]])]),e("div",xe,[y(e("select",{"onUpdate:modelValue":c[1]||(c[1]=m=>t(l).status=m),class:"flex rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 h-8 w-[150px] lg:w-[120px]"},c[2]||(c[2]=[e("option",{value:""},"Tout",-1),e("option",{value:"1"},"en attente",-1),e("option",{value:"2"},"payé",-1),e("option",{value:"3"},"échec",-1)]),512),[[U,t(l).status]]),p(r,{data:(E=t(n))==null?void 0:E.payments,colunm:a},null,8,["data"])])]),e("div",ve,[p(q,{loading:t(d),data:(M=t(n))==null?void 0:M.payments},null,8,["loading","data"])])],64)):t(u)==2?(b(),P(z,{key:2,loading:t(d),data:(j=t(n))==null?void 0:j.payments},null,8,["loading","data"])):(b(),P(O,{key:3,loading:t(d),data:(G=t(n))==null?void 0:G.payments},null,8,["loading","data"]))])])]}),_:1})])}}});export{Ce as default};
