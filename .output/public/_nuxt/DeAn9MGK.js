import{z as S,r as f,A as p,G as l}from"./BNN5M85B.js";import{u as i}from"./CCGXEvLI.js";const g=S("facture",()=>{async function r(a){return await i(`/facture/all?${a.toString()}`)}async function u(a){return await i("/facture/create",{method:"POST",body:a})}async function s(a){return await i("/facture/update",{method:"PUT",body:a})}async function o(a){return await i(`/facture/find/${a}`)}async function c(a){return await i(`/facture/get/${a}`)}return{all:r,create:u,findWithPaiement:o,find:c,update:s}}),O=S("FactureViewModel",()=>{const r=g(),u=f([]),s=f([]),o=f({}),c=f(!1);let a={club_id:"",rubrique_id:"",exercice_id:"",amount:"",objet:"",status:"en_attente"};const y=p({...a}),d=p({...a,id:null});async function v(n){var t,m,w;const e=await r.all(n);s.value=(t=e==null?void 0:e.data)==null?void 0:t.analytic,u.value=[...(w=(m=e.data)==null?void 0:m.data)==null?void 0:w.data]}async function C(){var t;c.value=!0;let n={...y};const e=await r.create(n);e!=null&&e.error&&alert((t=e==null?void 0:e.error)==null?void 0:t.message),e!=null&&e.data&&l("Opération éffectuée",{autoClose:1e3,type:l.TYPE.SUCCESS}),c.value=!1}async function F(){var t;c.value=!0;let n={...d};const e=await r.update(n);e!=null&&e.error&&alert((t=e==null?void 0:e.error)==null?void 0:t.message),e!=null&&e.data&&l("Opération éffectuée",{autoClose:1e3,type:l.TYPE.SUCCESS}),c.value=!1}async function P(n){var t;const e=await r.findWithPaiement(n);o.value=(t=e==null?void 0:e.data)==null?void 0:t.data}async function b(n){var t;const e=await r.find(n);Object.assign(d,(t=e==null?void 0:e.data)==null?void 0:t.data)}return{all:v,factures:u,facture:o,create:C,findWithPaiement:P,newFacture:y,isLoading:c,find:b,updateFacture:d,update:F,analityc:s}});export{O as u};
