import{_ as C}from"./BQnPyFD4.js";import{_ as V}from"./CFXGKQw5.js";import{f as B,z as D,k as M,D as N,c,b as v,w as E,o as u,a as e,t as p,p as L,E as T,l,F as w,q as g}from"./BFPTrp0h.js";import{u as $}from"./CiNiVcZB.js";import{u as j}from"./a85H8oMf.js";import{U as q}from"./DIIv37rX.js";const F={class:"w-full"},P={class:"p-2"},R={class:"text-sm font-semibold uppercase text-neutral-500"},S={class:"w-auto gap-2 flex items-center justify-between my-4"},z={class:"flex gap-2 w-auto rounded-lg border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 h-8"},A={class:"w-auto px-1 block border-r border-gray-300"},G={class:"w-auto flex items-center justify-center h-full"},H=["value","selected"],I={class:"w-full grid grid-cols-1 md:grid-cols-4 gap-4 p-2 my-3"},J={class:"text-xs text-gray-500 font-medium"},K={class:"text-lg font-extrabold"},O={class:"w-full p-2"},st=B({__name:"index",setup(Q){const s=j();$();const a=D({search:"",status:""}),k=[{label:"rapport.colunm.td1",key:"name"},{label:"rapport.colunm.td2",key:"total_facture"},{label:"rapport.colunm.td3",key:"total_montant"},{label:"rapport.colunm.td4",key:"total_paye"},{label:"rapport.colunm.td5",key:"total_impaye"},{label:"rapport.colunm.td6",key:"total_en_cours"}],{formatNumber:U}=q(),m=async(o={})=>{var d,_;const r=new URLSearchParams({search:a.search||"",status:a.status||""});await s.rapport(r);const n=(_=(d=s==null?void 0:s.rapports)==null?void 0:d.exercice)==null?void 0:_.find(i=>i.status==="en_cours");console.log("enCours",n),n&&!a.status&&(a.status=n.value)};return M(a,o=>{let r=setTimeout(async()=>{await m(o),clearTimeout(r)},400)},{deep:!0}),N(async()=>{m()}),(o,r)=>{const n=C,d=V;return u(),c("div",null,[v(d,null,{default:E(({userConnected:_})=>{var i,b,h,y,x;return[e("div",F,[e("div",P,[e("h5",R,p(o.$t("rapport.title")),1)]),e("div",S,[e("div",z,[e("div",A,p(o.$t("rapport.title_filter")),1),e("div",G,[L(e("select",{"onUpdate:modelValue":r[0]||(r[0]=t=>l(a).status=t),class:"w-full h-full bg-transparent border-none outline-none"},[(u(!0),c(w,null,g((b=(i=l(s))==null?void 0:i.rapports)==null?void 0:b.exercice,(t,f)=>(u(),c("option",{key:f,value:t==null?void 0:t.value,selected:(t==null?void 0:t.status)=="en_cours"},p(t==null?void 0:t.label),9,H))),128))],512),[[T,l(a).status]])])])]),e("div",I,[(u(!0),c(w,null,g((y=(h=l(s))==null?void 0:h.rapports)==null?void 0:y.analityc,(t,f)=>(u(),c("div",{key:f,class:"box"},[e("span",J,p(o.$t(t==null?void 0:t.label)),1),e("h2",K,p(l(U)(t==null?void 0:t.value)),1)]))),128))]),e("div",O,[v(n,{columns:k,data:(x=l(s))==null?void 0:x.rapports.club},null,8,["data"])])])]}),_:1})])}}});export{st as default};
